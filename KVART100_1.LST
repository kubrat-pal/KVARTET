KVART100                                                                                                      PAGE 1

                       1    ;********************************************************************
                       2    ;
                       3    ; Author        : Pal Eagleson
                       4    ;
                       5    ; Date          : 12 September  2021г.
                       6    ;
                       7    ; File          : KVART100.asm
                       8    ;
                       9    ; Hardware      : АТ89C51RD2
                      10    ;
                      11    ; Description   :Добавлена # в набор номера и посылка свистков для проверки коннекта(разных)
                                                                               
                      12    ;                 
                      13    ;               :Добавлена задержка в 3 сек перед занятием линии
                      14    ;********************************************************************
                      15    $MOD52                          ; use 8052 predefined symbols
                      16    
                      17    
                      18    ;____________________________________________________________________
                      19    ;Использование регистров:
                      20    ;R0 
                      21    ;R1 
                      22    ;R2 
                      23    ;R3 
                      24    ;R4 
                      25    ;R5 
                      26    ;R6 
                      27    ;R7 
                      28    ;B
                      29    ;____________________________________________________________________
                      30    ;Использование ресурсов:
                      31    ;T0 
                      32    ;Т1 
                      33    ;       
                      34    ;
                      35    ;
                      36    ;
                      37    ;____________________________________________________________________
                      38    ; MAIN PROGRAM
----                  39    CSEG    #0afffh                 ;установка внутренней памяти программ
****--------------------------------^
****ERROR #29: Expecting an EOL or COMMENT
0000                  40    ORG  0000h
0000 020040           41              jmp   start           ;
                      42    
0003                  43    ORG  0003h      
                      44    
000B                  45    ORG  000bh                      
                      46    
0013                  47    ORG  0013h      
                      48    
001B                  49    ORG  001bh      
                      50            
0023                  51    ORG  0023h
                      52                                    
0040                  53    ORG  0040h                      
                      54    
                      55    
KVART100                                                                                                      PAGE 2

                      56    
                      57    
0040 7FFE             58    start:       mov     r7,#0feh        ;1 цикл сброса DISP
0042 758001           59    init:        mov     P0,#01h         ;2   очистка дисплея курсор в начало
0045 121639           60                 lcall   disp_wcomm      ;3   вызов подпрограммы запись команды в дисплей
0048 758002           61                 mov     p0,#02h         ;4  
004B 121639           62                 lcall   disp_wcomm      ;5
004E 75800C           63                 mov     p0,#0ch         ;6
0051 121639           64                 lcall   disp_wcomm      ;7
0054 758038           65                 mov     p0,#038h        ;8 даннные 8 бит 2 строки шрифт 5x7
0057 121639           66                 lcall   disp_wcomm      ;9
005A DFE6             67                 djnz    r7,init         ;10
005C 7FBF             68                 mov     r7,#0bfh         ;1 очистка indirect RAM данных номеров АБ. 
005E 7840             69                 mov     r0,#040h         ;2 установка в пробел  20h
0060 7620             70    resetram:    mov     @r0,#020h        ;3 временное использование регистра r0
0062 08               71                 inc     r0               ;4
0063 DFFB             72                 djnz    r7,resetram      ;5
0065 7F28             73                 mov     r7,#028h         ;1 очистка indirect RAM данных номеров АБ. 
0067 78D8             74                 mov     r0,#0d8h         ;2 установка в пробел  20h
0069 7620             75    resetram1a:  mov     @r0,#020h        ;3 временное использование регистра r0
006B 08               76                 inc     r0               ;4
006C DFFB             77                 djnz    r7,resetram1a    ;5
006E 7F0A             78                 mov     r7,#00ah         ;1 очистка indirect RAM данных с адреса 0b0h
0070 78B0             79                 mov     r0,#0b0h         ;2 установка в пробел  030h
0072 7630             80    resetram1:   mov     @r0,#030h        ;3 временное использование регистра r0
0074 08               81                 inc     r0               ;4
0075 DFFB             82                 djnz    r7,resetram1     ;5
0077 7F08             83                 mov     r7,#008h         ;1 очистка indirect RAM данных с адреса 0c0h
0079 78C0             84                 mov     r0,#0c0h         ;2 установка в NO   04eh
007B 764E             85    resetram2:   mov     @r0,#04eh        ;3 временное использование регистра r0
007D 08               86                 inc     r0               ;4
007E DFFB             87                 djnz    r7,resetram2     ;5
0080 758000           88                 mov     p0,#000h           ;1установка регистра упр в 00  
0083 7590A0           89                 mov     p1,#0a0h           ;2
0086 7590B0           90                 mov     p1,#0b0h           ;3
0089 750900           91                 mov     009h,#000h             ;ячейку памяти коммутатора в 0
008C D297             92                 setb    p1.7                     ;установка номеронабирателя в рабочий режим
008E 30A003           93                 jnb     p2.0,eagle                             ;1 этто и далее есть отшень кхит
                                                                               ри функций !!! тихо ША!!!
0091 0200C3           94                 ljmp    abcde
0094 30A103           95    eagle:       jnb     p2.1,eagle1                            ;2
0097 0200C3           96                 ljmp    abcde
009A 758001           97    eagle1:      mov     p0,#001h       
009D 121639           98                 lcall   disp_wcomm
00A0 75800C           99                 mov     p0,#00ch                                                  
00A3 121639          100                 lcall   disp_wcomm
00A6 7F80            101                 mov     r7,#80h                                ;  вывод текста длья кхитри функ
                                                                               ций !!!.
00A8 901758          102                 mov     dptr,#tprobe            
00AB 8F80            103    eagle11:     mov     p0,r7
00AD 121639          104                 lcall   disp_wcomm
00B0 7400            105                 mov     a,#00h
00B2 93              106                 movc    a,@a+dptr
00B3 F580            107                 mov     p0,a
00B5 121646          108                 lcall   disp_wdata
00B8 A3              109                 inc     dptr
00B9 0F              110                 inc     r7
00BA B4FFEE          111                 cjne    a,#0ffh,eagle11
KVART100                                                                                                      PAGE 3

00BD 12144F          112                 lcall   sek
00C0 12144F          113                 lcall   sek
                     114    
                     115    
                     116    
                     117    
                     118    
                     119    
00C3 758050          120    abcde:        mov    p0,#050h                            ;
00C6 121639          121                  lcall   disp_wcomm                         ;программирование знакогенератора д
                                                                               ля вывода инверсной 8
00C9 7580FB          122                  mov     p0,#0fbh                           ;код символа    #002h
00CC 121646          123                  lcall   disp_wdata                         ;
00CF 758051          124                  mov     p0,#051h                           ;
00D2 121639          125                  lcall   disp_wcomm
00D5 7580F5          126                  mov     p0,#0f5h
00D8 121646          127                  lcall   disp_wdata
00DB 758052          128                  mov     p0,#052h
00DE 121639          129                  lcall   disp_wcomm
00E1 7580F5          130                  mov     p0,#0f5h
00E4 121646          131                  lcall   disp_wdata
00E7 758053          132                  mov     p0,#053h
00EA 121639          133                  lcall   disp_wcomm
00ED 7580FB          134                  mov     p0,#0fbh
00F0 121646          135                  lcall   disp_wdata
00F3 758054          136                  mov     p0,#054h
00F6 121639          137                  lcall   disp_wcomm
00F9 7580F5          138                  mov     p0,#0f5h
00FC 121646          139                  lcall   disp_wdata
00FF 758055          140                  mov     p0,#055h
0102 121639          141                  lcall   disp_wcomm
0105 7580F5          142                  mov     p0,#0f5h
0108 121646          143                  lcall   disp_wdata
010B 758056          144                  mov     p0,#056h
010E 121639          145                  lcall   disp_wcomm
0111 7580FB          146                  mov     p0,#0fbh
0114 121646          147                  lcall   disp_wdata
0117 758057          148                   mov    p0,#057h
011A 121639          149                  lcall   disp_wcomm
011D 7580FF          150                  mov     p0,#0ffh                           ;
0120 121646          151                  lcall   disp_wdata                         ;
0123 78B1            152                  mov     r0,#0b1h                      ;предварительная установка ОЖ ОТВ СТАН =
                                                                               10сек
0125 7631            153                  mov     @r0,#031h                             ;
0127 08              154                  inc     r0                                    ;
0128 7630            155                  mov     @r0,#030h                             ;
012A 08              156                  inc     r0                                    ;
012B 7632            157                  mov     @r0,#032h                 ;предварительная установка ОЖ 2го ОТВ СТАН =
                                                                               20сек
012D 08              158                  inc     r0                                    ;
012E 7630            159                  mov     @r0,#030h                             ;
0130 08              160                  inc     r0                                    ;
0131 7631            161                  mov     @r0,#031h                 ;предварительная установка ОЖ вызова =10сек
                                                                               
0133 08              162                  inc     r0                                    ;
0134 7630            163                  mov     @r0,#030h                             ;
0136 78C1            164                  mov     r0,#0c1h                  ;предварительная установка КОНТРОЛЬ СОЕД  "Y
                                                                               "  
KVART100                                                                                                      PAGE 4

0138 7659            165                  mov     @r0,#059h                             ; 
013A 7880            166                 mov     r0,#080h        ;1 запись в память предустановок длит. и кол. с адреса 
                                                                               #080h 
013C 9016FD          167                 mov     dptr,#tpredust  
013F 7400            168    predust:     mov     a,#00h
0141 93              169                 movc    a,@a+dptr
0142 F6              170                 mov     @r0,a
0143 A3              171                 inc     dptr
0144 08              172                 inc     r0
0145 7400            173                 mov     a,#00h
0147 93              174                 movc    a,@a+dptr
0148 B4FFF4          175                 cjne    a,#0ffh,predust ;8
014B 7880            176                 mov     r0,#080h        ;занес. во временную память значений первого времени и 
                                                                               всех 
014D 8630            177                 mov     030h,@r0                        ;раз измерений
014F 08              178                 inc     r0
0150 8631            179                 mov     031h,@r0
0152 08              180                 inc     r0
0153 8632            181                 mov     032h,@r0
0155 08              182                 inc     r0
0156 8633            183                 mov     033h,@r0
0158 08              184                 inc     r0
0159 8634            185                 mov     034h,@r0
015B 08              186                 inc     r0
015C 08              187                 inc     r0
015D 08              188                 inc     r0
015E 8635            189                 mov     035h,@r0
0160 08              190                 inc     r0
0161 8636            191                 mov     036h,@r0
0163 7890            192                 mov     r0,#090h
0165 8637            193                 mov     037h,@r0
0167 08              194                 inc     r0
0168 8638            195                 mov     038h,@r0 
016A 7899            196                 mov     r0,#099h
016C 8639            197                 mov     039h,@r0
016E 08              198                 inc     r0
016F 863A            199                 mov     03ah,@r0
0171 78A2            200                 mov     r0,#0a2h
0173 863B            201                 mov     03bh,@r0
0175 08              202                 inc     r0
0176 863C            203                 mov     03ch,@r0
0178 78AB            204                 mov     r0,#0abh
017A 863D            205                 mov     03dh,@r0
017C 08              206                 inc     r0
017D 863E            207                 mov     03eh,@r0
017F 7922            208                 mov     r1,#022h                ; предустановка ОТБОЙ - аб. А
0181 7741            209                 mov     @r1,#041h 
                     210    
                     211    
                     212    
0183 758001          213    func1:       mov     p0,#001h       ;функция НОМЕР АБ. 1
0186 121639          214                 lcall   disp_wcomm
0189 75800C          215                 mov     p0,#00ch                                                  
018C 121639          216                 lcall   disp_wcomm
018F 758000          217                 mov     p0,#000h                                 ;установка реле в 000
0192 759090          218                 mov     p1,#090h
0195 7590B0          219                 mov     p1,#0b0h
0198 7F80            220                 mov     r7,#80h                    ;  вывод текста НОМЕР.
KVART100                                                                                                      PAGE 5

019A 901674          221                 mov     dptr,#tnomer1            
019D 8F80            222    func11:      mov     p0,r7
019F 121639          223                 lcall   disp_wcomm
01A2 7400            224                 mov     a,#00h
01A4 93              225                 movc    a,@a+dptr
01A5 F580            226                 mov     p0,a
01A7 121646          227                 lcall   disp_wdata
01AA A3              228                 inc     dptr
01AB 0F              229                 inc     r7
01AC B4FFEE          230                 cjne    a,#0ffh,func11
01AF 1F              231                 dec     r7
01B0 90167B          232                 mov     dptr,#tab
01B3 8F80            233    func12:      mov     p0,r7                      
01B5 121639          234                 lcall   disp_wcomm             
01B8 7400            235                 mov     a,#00h
01BA 93              236                 movc    a,@a+dptr
01BB F580            237                 mov     p0,a
01BD 121646          238                 lcall   disp_wdata
01C0 A3              239                 inc     dptr
01C1 0F              240                 inc     r7
01C2 B4FFEE          241                 cjne    a,#0ffh,func12
01C5 1F              242                 dec     r7
01C6 8F80            243                 mov     p0,r7
01C8 121639          244                 lcall   disp_wcomm
01CB 758031          245                 mov     p0,#031h                    ;вывод цифры 1 в конце строки 1
01CE 121646          246                 lcall   disp_wdata
01D1 30A2FD          247    kf00:        jnb     p2.2,kf00            ;1 ожидание отжатия клавиш
01D4 30A4FA          248                 jnb     p2.4,kf00            ;2
01D7 30A405          249    kf001:       jnb     p2.4,funca2          ;1 ожидание нажатия клавиш
01DA 30A211          250                 jnb     p2.2,nomer           ;2
01DD 21D7            251                 ajmp    kf001                ;3
01DF 75800C          252    funca2:      mov     p0,#00ch                                                    
01E2 121639          253                 lcall   disp_wcomm
01E5 758001          254                 mov     p0,#001h
01E8 121639          255                 lcall   disp_wcomm
01EB 02020C          256                 ljmp    func2
01EE                 257    nomer:                                ;ввод номера абонента
01EE 758001          258                 mov     p0,#01h              ;1  очистка DISP
01F1 121639          259                 lcall   disp_wcomm           ;2
01F4 75800C          260                 mov     p0,#00ch             ;3 включить DISP
01F7 121639          261                 lcall   disp_wcomm
01FA 7840            262                 mov     r0,#040h                  ;  установка указателя памяти номера вывода н
                                                                               а DISP
01FC 7940            263                 mov     r1,#040h                  ;  установка указателя записи в память номера
                                                                               
01FE 9016EB          264                 mov     dptr,#tcifr               ;  вывод 
0201 1211D4          265                 lcall   vyv3
                     266    
0204 75800C          267                 mov     p0,#00ch
0207 121639          268                 lcall   disp_wcomm
020A 2183            269                 ajmp    func1
020C 758001          270    func2:      mov     p0,#01h        ;функция НОМЕР АБ. 2
020F 121639          271                lcall   disp_wcomm
0212 75800C          272                mov     p0,#00ch                                                    
0215 121639          273                lcall   disp_wcomm
0218 7F80            274                mov     r7,#80h               ;вывод текста НОМЕР
021A 8F80            275                mov     p0,r7
021C 121639          276                lcall   disp_wcomm
KVART100                                                                                                      PAGE 6

021F 901674          277                mov     dptr,#tnomer1            
0222 8F80            278    func22:     mov     p0,r7
0224 121639          279                lcall   disp_wcomm
0227 7400            280                mov     a,#00h
0229 93              281                movc    a,@a+dptr
022A F580            282                mov     p0,a
022C 121646          283                lcall   disp_wdata
022F A3              284                inc     dptr
0230 0F              285                inc     r7
0231 B4FFEE          286                cjne    a,#0ffh,func22
0234 1F              287                dec     r7
0235 90167B          288                mov     dptr,#tab             ;вывод текста АБ 
0238 8F80            289    func23:     mov     p0,r7
023A 121639          290                lcall   disp_wcomm
023D 7400            291                mov     a,#00h
023F 93              292                movc    a,@a+dptr
0240 F580            293                mov     p0,a
0242 121646          294                lcall   disp_wdata
0245 A3              295                inc     dptr
0246 0F              296                inc     r7
0247 B4FFEE          297                cjne    a,#0ffh,func23
024A 1F              298                dec     r7
024B 8F80            299                mov     p0,r7                 ;вывод цифры 2 в конце строки 1
024D 121639          300                lcall   disp_wcomm             
0250 758032          301                mov     p0,#032h
0253 121646          302                lcall   disp_wdata           
                     303                                      
0256 30A2FD          304    kf2:        jnb     p2.2,kf2
0259 30A4FA          305                jnb     p2.4,kf2
025C 30A20E          306    kf21:       jnb     p2.2,nomer1
025F 30A402          307                jnb     p2.4,funca3
0262 415C            308                ajmp    kf21 
0264 75800C          309    funca3:     mov     p0,#00ch
0267 121639          310                lcall   disp_wcomm
026A 02028B          311                ljmp    funca2b
026D                 312    nomer1:                                ;ввод номера абонента
026D 758001          313                 mov     p0,#001h                  ;1  очистка DISP
0270 121639          314                 lcall   disp_wcomm                ;2
0273 758008          315                 mov     p0,#008h                  ;3 включить DISP
0276 121639          316                 lcall   disp_wcomm
0279 7858            317                 mov     r0,#058h                  ;  установка указателя памяти номера вывода н
                                                                               а DISP
027B 7958            318                 mov     r1,#058h                  ;  установка указателя записи в память номера
                                                                               
027D 9016EB          319                 mov     dptr,#tcifr               ;  вывод 
0280 1211D4          320                 lcall   vyv3
0283 75800C          321                 mov     p0,#00ch
0286 121639          322                 lcall   disp_wcomm
0289 410C            323                 ajmp    func2
                     324    
                     325    
028B 758001          326    funca2b:       mov     p0,#001h     ;функция НОМЕР АБ. 3
028E 121639          327                 lcall   disp_wcomm
0291 75800C          328                 mov     p0,#00ch                                                  
0294 121639          329                 lcall   disp_wcomm
0297 7F80            330                 mov     r7,#80h              ;вывод текста НОМЕР.
0299 901674          331                 mov     dptr,#tnomer1            
029C 8F80            332    funcb11:      mov     p0,r7
KVART100                                                                                                      PAGE 7

029E 121639          333                 lcall   disp_wcomm
02A1 7400            334                 mov     a,#00h
02A3 93              335                 movc    a,@a+dptr
02A4 F580            336                 mov     p0,a
02A6 121646          337                 lcall   disp_wdata
02A9 A3              338                 inc     dptr
02AA 0F              339                 inc     r7
02AB B4FFEE          340                 cjne    a,#0ffh,funcb11
02AE 1F              341                 dec     r7
02AF 90167B          342                 mov     dptr,#tab
02B2 8F80            343    funcb12:      mov     p0,r7                      
02B4 121639          344                 lcall   disp_wcomm             
02B7 7400            345                 mov     a,#00h
02B9 93              346                 movc    a,@a+dptr
02BA F580            347                 mov     p0,a
02BC 121646          348                 lcall   disp_wdata
02BF A3              349                 inc     dptr
02C0 0F              350                 inc     r7
02C1 B4FFEE          351                 cjne    a,#0ffh,funcb12
02C4 1F              352                 dec     r7
02C5 8F80            353                 mov     p0,r7
02C7 121639          354                 lcall   disp_wcomm
02CA 758033          355                 mov     p0,#033h             ;вывод цифры 3 в конце строки 1
02CD 121646          356                 lcall   disp_wdata
02D0 30A2FD          357    kfb00:        jnb     p2.2,kfb00              ;1 ожидание отжатия клавиш
02D3 30A4FA          358                 jnb     p2.4,kfb00               ;2
02D6 30A405          359    kfb001:       jnb     p2.4,funcab2            ;1 ожидание нажатия клавиш
02D9 30A211          360                 jnb     p2.2,nomerb              ;2
02DC 41D6            361                 ajmp    kfb001                   ;3
02DE 75800C          362    funcab2:      mov     p0,#00ch                                                    
02E1 121639          363                 lcall   disp_wcomm
02E4 758001          364                 mov     p0,#001h
02E7 121639          365                 lcall   disp_wcomm
02EA 02030B          366                 ljmp    funca2g
02ED                 367    nomerb:                                ;ввод номера абонента
02ED 758001          368                 mov     p0,#01h                  ;1  очистка DISP
02F0 121639          369                 lcall   disp_wcomm               ;2
02F3 75800C          370                 mov     p0,#00ch                 ;3 включить DISP
02F6 121639          371                 lcall   disp_wcomm
02F9 78D0            372                 mov     r0,#0d0h                 ;  установка указателя памяти номера вывода на
                                                                                DISP
02FB 79D0            373                 mov     r1,#0d0h                 ;  установка указателя записи в память номера
                                                                               
02FD 9016EB          374                 mov     dptr,#tcifr              ;  вывод 
0300 1211D4          375                 lcall   vyv3
                     376    
0303 75800C          377                 mov     p0,#00ch
0306 121639          378                 lcall   disp_wcomm
0309 418B            379                 ajmp    funca2b
                     380    
                     381    
030B 758001          382    funca2g:       mov     p0,#001h    ;функция НОМЕР АБ. 4
030E 121639          383                 lcall   disp_wcomm
0311 75800C          384                 mov     p0,#00ch                                                  
0314 121639          385                 lcall   disp_wcomm
0317 7F80            386                 mov     r7,#80h                 ;вывод текста НОМЕР.
0319 901674          387                 mov     dptr,#tnomer1            
031C 8F80            388    funcg11:      mov     p0,r7
KVART100                                                                                                      PAGE 8

031E 121639          389                 lcall   disp_wcomm
0321 7400            390                 mov     a,#00h
0323 93              391                 movc    a,@a+dptr
0324 F580            392                 mov     p0,a
0326 121646          393                 lcall   disp_wdata
0329 A3              394                 inc     dptr
032A 0F              395                 inc     r7
032B B4FFEE          396                 cjne    a,#0ffh,funcg11
032E 1F              397                 dec     r7
032F 90167B          398                 mov     dptr,#tab
0332 8F80            399    funcg12:      mov     p0,r7                      
0334 121639          400                 lcall   disp_wcomm             
0337 7400            401                 mov     a,#00h
0339 93              402                 movc    a,@a+dptr
033A F580            403                 mov     p0,a
033C 121646          404                 lcall   disp_wdata
033F A3              405                 inc     dptr
0340 0F              406                 inc     r7
0341 B4FFEE          407                 cjne    a,#0ffh,funcg12
0344 1F              408                 dec     r7
0345 8F80            409                 mov     p0,r7
0347 121639          410                 lcall   disp_wcomm
034A 758034          411                 mov     p0,#034h               ;вывод цифры 4 в конце строки 1
034D 121646          412                 lcall   disp_wdata
0350 30A2FD          413    kfg00:        jnb     p2.2,kfg00               ;1 ожидание отжатия клавиш
0353 30A4FA          414                 jnb     p2.4,kfg00                ;2
0356 30A405          415    kfg001:       jnb     p2.4,funcag2             ;1 ожидание нажатия клавиш
0359 30A211          416                 jnb     p2.2,nomerg               ;2
035C 6156            417                 ajmp    kfg001                    ;3
035E 75800C          418    funcag2:      mov     p0,#00ch                                                    
0361 121639          419                 lcall   disp_wcomm
0364 758001          420                 mov     p0,#001h
0367 121639          421                 lcall   disp_wcomm
036A 02038B          422                 ljmp    func3
036D                 423    nomerg:                                 ;ввод номера абонента
036D 758001          424                 mov     p0,#01h                   ;1  очистка DISP
0370 121639          425                 lcall   disp_wcomm                ;2
0373 75800C          426                 mov     p0,#00ch                  ;3 включить DISP
0376 121639          427                 lcall   disp_wcomm
0379 78E8            428                 mov     r0,#0e8h                  ;  установка указателя памяти номера вывода н
                                                                               а DISP
037B 79E8            429                 mov     r1,#0e8h                  ;  установка указателя записи в память номера
                                                                               
037D 9016EB          430                 mov     dptr,#tcifr               ;  вывод 
0380 1211D4          431                 lcall   vyv3
                     432    
0383 75800C          433                 mov     p0,#00ch
0386 121639          434                 lcall   disp_wcomm
0389 610B            435                 ajmp    funca2g
                     436    
                     437    ;funca2d:       mov     p0,#001h       ;функция НОМЕР АБ. Д
                     438    ;             lcall   disp_wcomm
                     439    ;             mov     p0,#00ch                                                  
                     440    ;             lcall   disp_wcomm
                     441    ;             mov     r7,#80h                ;вывод текста НОМЕР.
                     442    ;             mov     dptr,#tnomer1            
                     443    ;funcd11:      mov     p0,r7
                     444    ;             lcall   disp_wcomm
KVART100                                                                                                      PAGE 9

                     445    ;             mov     a,#00h
                     446    ;             movc    a,@a+dptr
                     447    ;             mov     p0,a
                     448    ;             lcall   disp_wdata
                     449    ;             inc     dptr
                     450    ;             inc     r7
                     451    ;             cjne    a,#0ffh,funcd11
                     452    ;             dec     r7
                     453    ;             mov     dptr,#tab
                     454    ;funcd12:      mov     p0,r7                      
                     455    ;             lcall   disp_wcomm             
                     456    ;             mov     a,#00h
                     457    ;             movc    a,@a+dptr
                     458    ;             mov     p0,a
                     459    ;             lcall   disp_wdata
                     460    ;             inc     dptr
                     461    ;             inc     r7
                     462    ;             cjne    a,#0ffh,funcd12
                     463    ;             dec     r7
                     464    ;             mov     p0,r7
                     465    ;             lcall   disp_wcomm
                     466    ;             mov     p0,#0e0h               ;вывод буквы  Д в конце строки 1
                     467    ;             lcall   disp_wdata
                     468    ;kfd00:        jnb     p2.2,kfd00                  ;1 ожидание отжатия клавиш
                     469    ;             jnb     p2.4,kfd00                   ;2
                     470    ;kfd001:       jnb     p2.4,funcad2                ;1 ожидание нажатия клавиш
                     471    ;             jnb     p2.2,nomerd                  ;2
                     472    ;             ajmp    kfd001                       ;3
                     473    ;funcad2:      mov     p0,#00ch                                                    
                     474    ;             lcall   disp_wcomm
                     475    ;             mov     p0,#001h
                     476    ;             lcall   disp_wcomm
                     477    ;             ljmp    func3
                     478    ;nomerd:                                 ;ввод номера абонента
                     479    ;             mov     p0,#01h                      ;1  очистка DISP
                     480    ;             lcall   disp_wcomm                   ;2
                     481    ;             mov     p0,#00ch                     ;3 включить DISP
                     482    ;             lcall   disp_wcomm
                     483    ;             mov     r0,#0d8h                     ;  установка указателя памяти номера выво
                                                                               да на DISP
                     484    ;             mov     r1,#0d8h                     ;  установка указателя записи в память но
                                                                               мера
                     485    ;             mov     dptr,#tcifr                  ;  вывод 
                     486    ;             lcall   vyv3
                     487    ;
                     488    ;             mov     p0,#00ch
                     489    ;             lcall   disp_wcomm
                     490    ;             ljmp    funca2d
                     491    
                     492    
                     493    
                     494    
                     495    
                     496    
                     497    
038B 758001          498    func3:      mov     p0,#01h          ;длит и кол 
038E 121639          499                lcall   disp_wcomm
0391 75800C          500                mov     p0,#00ch          
KVART100                                                                                                      PAGE 10

0394 121639          501                lcall   disp_wcomm
0397 7F80            502                mov     r7,#80h                  ;вывод текста ДЛИТ И КОЛ 
0399 901688          503                mov     dptr,#tdlit            
039C 8F80            504    func30:     mov     p0,r7
039E 121639          505                lcall   disp_wcomm
03A1 7400            506                mov     a,#00h
03A3 93              507                movc    a,@a+dptr
03A4 F580            508                mov     p0,a
03A6 121646          509                lcall   disp_wdata
03A9 A3              510                inc     dptr
03AA 0F              511                inc     r7
03AB B4FFEE          512                cjne    a,#0ffh,func30
03AE 7FC0            513                mov     r7,#0c0h                 ;вывод текста СОЕДИНЕНИЙ 
03B0 901695          514                mov     dptr,#tsoed            
03B3 8F80            515    func31:     mov     p0,r7
03B5 121639          516                lcall   disp_wcomm
03B8 7400            517                mov     a,#00h
03BA 93              518                movc    a,@a+dptr
03BB F580            519                mov     p0,a
03BD 121646          520                lcall   disp_wdata
03C0 A3              521                inc     dptr
03C1 0F              522                inc     r7
03C2 7400            523                mov     a,#00h
03C4 93              524                movc    a,@a+dptr
03C5 B4FFEB          525                cjne    a,#0ffh,func31
                     526    
03C8 30A2FD          527    kfa3:       jnb     p2.2,kfa3
03CB 30A4FA          528                jnb     p2.4,kfa3
03CE 30A214          529    kfa31:      jnb     p2.2,dat
03D1 30A402          530                jnb     p2.4,func32
03D4 61CE            531                ajmp    kfa31
03D6 758001          532    func32:     mov     p0,#001h                                                    
03D9 121639          533                lcall   disp_wcomm
03DC 75800C          534                mov     p0,#00ch
03DF 121639          535                lcall   disp_wcomm
03E2 0204B5          536                ljmp    func4
03E5 7880            537    dat:         mov     r0,#080h                        ;занесение в память введенных значений 
                                                                               первого времени и всех 
03E7 A630            538                 mov     @r0,030h                        ;раз измерений ,хранившихся во временно
                                                                               й памяти
03E9 08              539                 inc     r0
03EA A631            540                 mov     @r0,031h
03EC 08              541                 inc     r0
03ED A632            542                 mov     @r0,032h
03EF 08              543                 inc     r0
03F0 A633            544                 mov     @r0,033h
03F2 08              545                 inc     r0
03F3 A634            546                 mov     @r0,034h
03F5 08              547                 inc     r0
03F6 08              548                 inc     r0
03F7 08              549                 inc     r0
03F8 A635            550                 mov     @r0,035h
03FA 08              551                 inc     r0
03FB A636            552                 mov     @r0,036h
03FD 7890            553                 mov     r0,#090h
03FF A637            554                 mov     @r0,037h
0401 08              555                 inc     r0
0402 A638            556                 mov     @r0,038h 
KVART100                                                                                                      PAGE 11

0404 7899            557                 mov     r0,#099h
0406 A639            558                 mov     @r0,039h
0408 08              559                 inc     r0
0409 A63A            560                 mov     @r0,03ah
040B 78A2            561                 mov     r0,#0a2h
040D A63B            562                 mov     @r0,03bh
040F 08              563                 inc     r0
0410 A63C            564                 mov     @r0,03ch
0412 78AB            565                 mov     r0,#0abh
0414 A63D            566                 mov     @r0,03dh
0416 08              567                 inc     r0
0417 A63E            568                 mov     @r0,03eh 
0419 758001          569                 mov     p0,#001h                    ;установка курсора в начало после вывода па
                                                                               мяти ввод ПРОВЕРКА 1
041C 121639          570                 lcall   disp_wcomm
041F 75800E          571                 mov     p0,#00eh                    ;включить disp и курсор
0422 121639          572                 lcall   disp_wcomm
0425 7880            573                 mov     r0,#080h
0427 7980            574                 mov     r1,#080h
0429 1212B7          575                 lcall   data11
042C 7880            576                 mov     r0,#080h                        ;занесение во временную память введенны
                                                                               х значений первого времени и 
042E 8630            577                 mov     030h,@r0                        ;раз измерений
0430 08              578                 inc     r0
0431 8631            579                 mov     031h,@r0
0433 08              580                 inc     r0
0434 8632            581                 mov     032h,@r0
0436 08              582                 inc     r0
0437 8633            583                 mov     033h,@r0
0439 08              584                 inc     r0
043A 8634            585                 mov     034h,@r0
043C 08              586                 inc     r0
043D 08              587                 inc     r0
043E 08              588                 inc     r0
043F 8635            589                 mov     035h,@r0
0441 08              590                 inc     r0
0442 8636            591                 mov     036h,@r0
0444 758001          592                 mov     p0,#001h                    ;установка курсора в начало после вывода па
                                                                               мяти ввод ПРОВЕРКА 2
0447 121639          593                 lcall   disp_wcomm
044A 75800E          594                 mov     p0,#00eh                    ;включить disp и курсор
044D 121639          595                 lcall   disp_wcomm
0450 7889            596                 mov     r0,#089h
0452 7989            597                 mov     r1,#089h
0454 1212B7          598                 lcall   data11 
0457 7890            599                 mov     r0,#090h                         ;занесение во временную память введенн
                                                                               ых значений раз измерений
0459 8637            600                 mov     037h,@r0
045B 08              601                 inc     r0
045C 8638            602                 mov     038h,@r0
045E 758001          603                 mov     p0,#001h                    ;установка курсора в начало после вывода па
                                                                               мяти ввод ПРОВЕРКА 3
0461 121639          604                 lcall   disp_wcomm
0464 75800E          605                 mov     p0,#00eh                    ;включить disp и курсор
0467 121639          606                 lcall   disp_wcomm
046A 7892            607                 mov     r0,#092h
046C 7992            608                 mov     r1,#092h
046E 1212B7          609                 lcall   data11
KVART100                                                                                                      PAGE 12

0471 7899            610                 mov     r0,#099h                         ;занесение во временную память введенн
                                                                               ых значений раз измерений
0473 8639            611                 mov     039h,@r0
0475 08              612                 inc     r0
0476 863A            613                 mov     03ah,@r0
0478 758001          614                 mov     p0,#001h                    ;установка курсора в начало после вывода па
                                                                               мяти ввод ПРОВЕРКА 4
047B 121639          615                 lcall   disp_wcomm
047E 75800E          616                 mov     p0,#00eh                    ;включить disp и курсор
0481 121639          617                 lcall   disp_wcomm
0484 789B            618                 mov     r0,#09bh
0486 799B            619                 mov     r1,#09bh
0488 1212B7          620                 lcall   data11
048B 78A2            621                 mov     r0,#0a2h                         ;занесение во временную память введенн
                                                                               ых значений раз измерений
048D 863B            622                 mov     03bh,@r0
048F 08              623                 inc     r0
0490 863C            624                 mov     03ch,@r0
0492 758001          625                 mov     p0,#001h                    ;установка курсора в начало после вывода па
                                                                               мяти ввод ПРОВЕРКА 5
0495 121639          626                 lcall   disp_wcomm
0498 75800E          627                 mov     p0,#00eh                    ;включить disp и курсор
049B 121639          628                 lcall   disp_wcomm
049E 78A4            629                 mov     r0,#0a4h
04A0 79A4            630                 mov     r1,#0a4h
04A2 1212B7          631                 lcall   data11
04A5 78AB            632                 mov     r0,#0abh                          ;занесение во временную память введен
                                                                               ных значений раз измерений
04A7 863D            633                 mov     03dh,@r0
04A9 08              634                 inc     r0
04AA 863E            635                 mov     03eh,@r0
04AC 75800C          636                 mov     p0,#00ch                    ;включить disp и выкл курсор
04AF 121639          637                 lcall   disp_wcomm
04B2 02038B          638                 ljmp    func3
                     639       
                     640                
                     641                
                     642                
                     643                
                     644                 
04B5 758001          645    func4:      mov     p0,#01h          ;функция АБ 4 =) АБ 1
04B8 121639          646                lcall   disp_wcomm
04BB 7F80            647                mov     r7,#80h                   ;  вывод текста  АБ 4 =) АБ 1 
04BD 90167B          648                mov     dptr,#tab            
04C0 8F80            649    func400:    mov     p0,r7
04C2 121639          650                lcall   disp_wcomm
04C5 7400            651                mov     a,#00h
04C7 93              652                movc    a,@a+dptr
04C8 F580            653                mov     p0,a
04CA 121646          654                lcall   disp_wdata
04CD A3              655                inc     dptr
04CE 0F              656                inc     r7
04CF 7400            657                mov     a,#00h
04D1 93              658                movc    a,@a+dptr
04D2 B4FFEB          659                cjne    a,#0ffh,func400
04D5 8F80            660                mov     p0,r7
04D7 121639          661                lcall   disp_wcomm
04DA 758031          662                mov     p0,#031h
KVART100                                                                                                      PAGE 13

04DD 121646          663                lcall   disp_wdata
04E0 0F              664                inc     r7
04E1 8F80            665                mov     p0,r7
04E3 121639          666                lcall   disp_wcomm
04E6 75803D          667                mov     p0,#03dh
04E9 121646          668                lcall   disp_wdata
04EC 0F              669                inc     r7
04ED 8F80            670                mov     p0,r7
04EF 121639          671                lcall   disp_wcomm
04F2 75803E          672                mov     p0,#03eh
04F5 121646          673                lcall   disp_wdata
04F8 0F              674                inc     r7
04F9 90167B          675                mov     dptr,#tab
04FC 8F80            676    func401:    mov     p0,r7
04FE 121639          677                lcall   disp_wcomm
0501 7400            678                mov     a,#00h
0503 93              679                movc    a,@a+dptr
0504 F580            680                mov     p0,a
0506 121646          681                lcall   disp_wdata
0509 A3              682                inc     dptr
050A 0F              683                inc     r7
050B 7400            684                mov     a,#00h
050D 93              685                movc    a,@a+dptr
050E B4FFEB          686                cjne    a,#0ffh,func401
0511 8F80            687                mov     p0,r7
0513 121639          688                lcall   disp_wcomm
0516 758034          689                mov     p0,#034h
0519 121646          690                lcall   disp_wdata
051C 0F              691                inc     r7
051D 8F80            692                mov     p0,r7
051F 121639          693                lcall   disp_wcomm
0522 758020          694                mov     p0,#020h
0525 121646          695                lcall   disp_wdata
0528 0F              696                inc     r7
0529 8F80            697                mov     p0,r7
052B 121639          698                lcall   disp_wcomm
052E 75803F          699                mov     p0,#03fh
0531 121646          700                lcall   disp_wdata
0534 78C0            701                 mov     r0,#0c0h
0536 79C0            702                 mov     r1,#0c0h            
0538 7580C0          703                 mov     p0,#0c0h                 ; вывод в начале второй строки           
053B 121639          704                 lcall   disp_wcomm
053E 8680            705                 mov     p0,@r0
0540 121646          706                 lcall   disp_wdata
0543                 707    kfa44:  ;    
0543 30A2FD          708                 jnb     p2.2,kfa44
0546 30A4FA          709                 jnb     p2.4,kfa44
0549                 710    kfa45:  ;     
0549 30A205          711                 jnb     p2.2,func42
054C 30A43A          712                 jnb     p2.4,func45
054F A149            713                 ajmp    kfa45             
0551 7580C0          714    func42:      mov     p0,#0c0h            
0554 121639          715                 lcall   disp_wcomm
0557 758059          716                 mov     p0,#059h
055A 121646          717                 lcall   disp_wdata
055D 7759            718                 mov     @r1,#059h
055F 30A2FD          719    kfa46:       jnb     p2.2,kfa46
0562 30A4FA          720                 jnb     p2.4,kfa46
KVART100                                                                                                      PAGE 14

0565                 721    kfa47:   
0565 30A205          722                 jnb     p2.2,func43
0568 30A41E          723                 jnb     p2.4,func45
056B A165            724                 ajmp    kfa47         
056D 7580C0          725    func43:      mov     p0,#0c0h            
0570 121639          726                 lcall   disp_wcomm
0573 75804E          727                 mov     p0,#04eh
0576 121646          728                 lcall   disp_wdata
0579 774E            729                 mov     @r1,#04eh
057B                 730    kfa48:  
057B 30A2FD          731                 jnb     p2.2,kfa48
057E 30A4FA          732                 jnb     p2.4,kfa48
0581                 733    kfa49:    
0581 30A2CD          734                 jnb     p2.2,func42
0584 30A402          735                 jnb     p2.4,func45
0587 A181            736                 ajmp    kfa49         
0589                 737    func45: 
0589 75800C          738                 mov     p0,#00ch            ;включить disp и выкл курсор
058C 121639          739                 lcall   disp_wcomm
                     740    
                     741    
058F 758001          742                mov     p0,#001h            ;ож ответ ст
0592 121639          743                lcall   disp_wcomm
0595 75800C          744                mov     p0,#00ch            ;выкл курсор
0598 121639          745                lcall   disp_wcomm
059B 7F80            746                mov     r7,#080h                 ;  вывод текста ОЖ 
059D 90167F          747                mov     dptr,#tozid            
05A0 8F80            748    func50:     mov     p0,r7
05A2 121639          749                lcall   disp_wcomm
05A5 7400            750                mov     a,#00h
05A7 93              751                movc    a,@a+dptr
05A8 F580            752                mov     p0,a
05AA 121646          753                lcall   disp_wdata
05AD A3              754                inc     dptr
05AE 0F              755                inc     r7
05AF B4FFEE          756                cjne    a,#0ffh,func50
05B2 1F              757                dec     r7                       ;  вывод текста ОТВЕТ СТ 
05B3 9016A0          758                mov     dptr,#totvet            
05B6 8F80            759    func51:     mov     p0,r7
05B8 121639          760                lcall   disp_wcomm
05BB 7400            761                mov     a,#00h
05BD 93              762                movc    a,@a+dptr
05BE F580            763                mov     p0,a
05C0 121646          764                lcall   disp_wdata
05C3 A3              765                inc     dptr
05C4 0F              766                inc     r7
05C5 7400            767                mov     a,#00h
05C7 93              768                movc    a,@a+dptr
05C8 B4FFEB          769                cjne    a,#0ffh,func51
05CB 78B1            770                mov     r0,#0b1h                 ; адрес памяти старшей цифры
05CD 79B2            771                mov     r1,#0b2h                 ; адрес памяти младшей цифры 
05CF B6301D          772                cjne    @r0,#030h,func502               ; сравнить с памятью цифр если нули то в
                                                                               ыводим N  и ждем ввода 
05D2 B7301A          773                cjne    @r1,#030h,func502
05D5 7580C0          774                mov     p0,#0c0h
05D8 121639          775                lcall   disp_wcomm
05DB 75804E          776                mov     p0,#04eh
05DE 121646          777                lcall   disp_wdata
KVART100                                                                                                      PAGE 15

05E1                 778    kfa50:     ;  mov     r6,#080h        ;  цикл ожидания отжатия клавиш
                     779    ;waitkfa50:   djnz    r6,waitkfa50          
05E1 30A2FD          780                 jnb     p2.2,kfa50
05E4 30A4FA          781                 jnb     p2.4,kfa50
05E7                 782    kfa51:      ; mov     r6,#080h        ; цикл ожидания нажатия клавиш
                     783    ;waitkfa510:  djnz    r6,waitkfa510         
05E7 30A205          784                 jnb     p2.2,func502
05EA 30A405          785                 jnb     p2.4,func59
05ED A1E7            786                 ajmp    kfa51
05EF 121381          787    func502:     lcall   func52
05F2                 788    func59:  ;    mov     p0,#001h            ;сбросить disp и курсор
                     789             ;    lcall   disp_wcomm
05F2 75800C          790                 mov     p0,#00ch            ;включить disp и выкл курсор
05F5 121639          791                 lcall   disp_wcomm
                     792    
                     793    
                     794    
                     795    
                     796              
                     797    ;func6
05F8 758001          798                mov     p0,#01h               ;ож 2 го отв ст
05FB 121639          799                lcall   disp_wcomm
05FE 7F80            800                mov     r7,#080h                 ;  вывод текста ОЖ 
0600 90167F          801                mov     dptr,#tozid            
0603 8F80            802    func60:     mov     p0,r7
0605 121639          803                lcall   disp_wcomm
0608 7400            804                mov     a,#00h
060A 93              805                movc    a,@a+dptr
060B F580            806                mov     p0,a
060D 121646          807                lcall   disp_wdata
0610 A3              808                inc     dptr
0611 0F              809                inc     r7
0612 B4FFEE          810                cjne    a,#0ffh,func60
0615 1F              811                dec     r7                       ;  вывод текста 2го ОТВ 
0616 9016A9          812                mov     dptr,#t2otv            
0619 8F80            813    func61:     mov     p0,r7
061B 121639          814                lcall   disp_wcomm
061E 7400            815                mov     a,#00h
0620 93              816                movc    a,@a+dptr
0621 F580            817                mov     p0,a
0623 121646          818                lcall   disp_wdata
0626 A3              819                inc     dptr
0627 0F              820                inc     r7
0628 7400            821                mov     a,#00h
062A 93              822                movc    a,@a+dptr
062B B4FFEB          823                cjne    a,#0ffh,func61
062E 78B3            824                mov     r0,#0b3h                 ; адрес памяти старшей цифры
0630 79B4            825                mov     r1,#0b4h                 ; адрес памяти младшей цифры 
0632 B6301D          826                cjne    @r0,#030h,func602               ; сравнить с памятью цифр если нули то в
                                                                               ыводим N  и ждем ввода 
0635 B7301A          827                cjne    @r1,#030h,func602
0638 7580C0          828                mov     p0,#0c0h
063B 121639          829                lcall   disp_wcomm
063E 75804E          830                mov     p0,#04eh
0641 121646          831                lcall   disp_wdata
0644                 832    kfa60:      ; mov     r6,#080h        ;  цикл ожидания отжатия клавиш
                     833    ;waitkfa60:   djnz    r6,waitkfa60          
0644 30A2FD          834                 jnb     p2.2,kfa60
KVART100                                                                                                      PAGE 16

0647 30A4FA          835                 jnb     p2.4,kfa60
064A                 836    kfa61:   ;    mov     r6,#080h        ; цикл ожидания нажатия клавиш
                     837    ;waitkfa610:  djnz    r6,waitkfa610         
064A 30A205          838                 jnb     p2.2,func602
064D 30A405          839                 jnb     p2.4,func69
0650 C14A            840                 ajmp    kfa61
0652 121381          841    func602:     lcall   func52
0655                 842    func69:  ;    mov     p0,#001h            ;сбросить disp и  курсор
                     843             ;    lcall   disp_wcomm
0655 75800C          844                 mov     p0,#00ch            ;включить disp и выкл курсор
0658 121639          845                 lcall   disp_wcomm
                     846                
                     847    
                     848    ;func7
065B 758001          849                mov     p0,#01h             ;прием выз
065E 121639          850                lcall   disp_wcomm
0661 7F80            851                mov     r7,#080h 
0663 9016B2          852                mov     dptr,#tpriem        ; вывод ПРИЕМ ВЫЗОВА    
0666 8F80            853    func70:     mov     p0,r7
0668 121639          854                lcall   disp_wcomm
066B 7400            855                mov     a,#00h
066D 93              856                movc    a,@a+dptr
066E F580            857                mov     p0,a
0670 121646          858                lcall   disp_wdata
0673 A3              859                inc     dptr
0674 0F              860                inc     r7
0675 B4FFEE          861                cjne    a,#0ffh,func70
0678 78B5            862                mov     r0,#0b5h                 ; адрес памяти старшей цифры
067A 79B6            863                mov     r1,#0b6h                 ; адрес памяти младшей цифры 
067C B63025          864                cjne    @r0,#030h,func702               ; сравнить с памятью цифр если нули то в
                                                                               ыводим N  и ждем ввода 
067F B73022          865                cjne    @r1,#030h,func702
0682 7580C0          866                mov     p0,#0c0h
0685 121639          867                lcall   disp_wcomm
0688 75804E          868                mov     p0,#04eh
068B 121646          869                lcall   disp_wdata
068E 7E80            870    kfa70:       mov     r6,#080h        ;  цикл ожидания отжатия клавиш
0690 DEFE            871    waitkfa70:   djnz    r6,waitkfa70           
0692 30A2F9          872                 jnb     p2.2,kfa70
0695 30A4F6          873                 jnb     p2.4,kfa70
0698 7E80            874    kfa71:       mov     r6,#080h        ; цикл ожидания нажатия клавиш
069A DEFE            875    waitkfa710:  djnz    r6,waitkfa710          
069C 30A205          876                 jnb     p2.2,func702
069F 30A405          877                 jnb     p2.4,func79
06A2 C198            878                 ajmp    kfa71
06A4 121381          879    func702:     lcall   func52
06A7                 880    func79:  ;    mov     p0,#001h            ;сбросить disp и  курсор
                     881             ;    lcall   disp_wcomm
06A7 75800C          882                 mov     p0,#00ch            ;включить disp и выкл курсор
06AA 121639          883                 lcall   disp_wcomm
                     884     
                     885    
                     886    
                     887    
                     888    
                     889    
                     890    ;func9 
06AD 758001          891                mov     p0,#01h             ;контр  соед
KVART100                                                                                                      PAGE 17

06B0 121639          892                lcall   disp_wcomm
06B3 7F80            893                mov     r7,#080h                 ;  вывод текста КОНТРОЛЬ СОЕД 
06B5 9016C8          894                mov     dptr,#tkontrsoe            
06B8 8F80            895    func90:     mov     p0,r7
06BA 121639          896                lcall   disp_wcomm
06BD 7400            897                mov     a,#00h
06BF 93              898                movc    a,@a+dptr
06C0 F580            899                mov     p0,a
06C2 121646          900                lcall   disp_wdata
06C5 A3              901                inc     dptr
06C6 0F              902                inc     r7
06C7 7400            903                mov     a,#00h
06C9 93              904                movc    a,@a+dptr
06CA B4FFEB          905                cjne    a,#0ffh,func90
06CD 78C1            906                 mov     r0,#0c1h
06CF 79C1            907                 mov     r1,#0c1h            
06D1 7580C0          908                 mov     p0,#0c0h        ; вывод в начале второй строки           
06D4 121639          909                 lcall   disp_wcomm
06D7 8680            910                 mov     p0,@r0
06D9 121646          911                 lcall   disp_wdata
06DC E6              912                 mov     a,@r0                                       ;смотрим шо там в памяти КО
                                                                               НТРОЛЯ
06DD B45903          913                 cjne    a,#059h,kfa90                            ;и идем на вывод того что соот
                                                                               ветственно
06E0 020707          914                 ljmp    kfa96                                    ;
                     915    
06E3 7E80            916    kfa90:       mov     r6,#080h        ;  цикл ожидания отжатия клавиш
06E5 DEFE            917    waitkfa990:  djnz    r6,waitkfa990          
06E7 30A2F9          918                 jnb     p2.2,kfa90
06EA 30A4F6          919                 jnb     p2.4,kfa90
06ED 7E80            920    kfa91:       mov     r6,#080h        ; цикл ожидания нажатия клавиш
06EF DEFE            921    waitkfa951:  djnz    r6,waitkfa951          
06F1 30A205          922                 jnb     p2.2,func92
06F4 30A44A          923                 jnb     p2.4,func95
06F7 C1ED            924                 ajmp    kfa91             
06F9 7580C0          925    func92:      mov     p0,#0c0h            
06FC 121639          926                 lcall   disp_wcomm
06FF 758059          927                 mov     p0,#059h
0702 121646          928                 lcall   disp_wdata
0705 7759            929                 mov     @r1,#059h
0707 7E80            930    kfa96:       mov     r6,#080h        ;  цикл ожидания отжатия клавиш
0709 DEFE            931    waitkfa960:  djnz    r6,waitkfa960          
070B 30A2F9          932                 jnb     p2.2,kfa96
070E 30A4F6          933                 jnb     p2.4,kfa96
0711 7E80            934    kfa97:       mov     r6,#080h        ; цикл ожидания нажатия клавиш
0713 DEFE            935    waitkfa971:  djnz    r6,waitkfa971          
0715 30A205          936                 jnb     p2.2,func93
0718 30A426          937                 jnb     p2.4,func95
071B E111            938                 ajmp    kfa97         
071D 7580C0          939    func93:      mov     p0,#0c0h            
0720 121639          940                 lcall   disp_wcomm
0723 75804E          941                 mov     p0,#04eh
0726 121646          942                 lcall   disp_wdata
0729 774E            943                 mov     @r1,#04eh
072B 7E80            944    kfa98:       mov     r6,#080h        ;  цикл ожидания отжатия клавиш
072D DEFE            945    waitkfa980:  djnz    r6,waitkfa980          
072F 30A2F9          946                 jnb     p2.2,kfa98
0732 30A4F6          947                 jnb     p2.4,kfa98
KVART100                                                                                                      PAGE 18

0735 7E80            948    kfa99:       mov     r6,#080h        ; цикл ожидания нажатия клавиш
0737 DEFE            949    waitkfa991:  djnz    r6,waitkfa991          
0739 30A2BD          950                 jnb     p2.2,func92
073C 30A402          951                 jnb     p2.4,func95
073F E135            952                 ajmp    kfa99         
0741                 953    func95:  ;    mov     p0,#001h            ;сброс DISP и курсора
                     954             ;    lcall   disp_wcomm
0741 75800C          955                 mov     p0,#00ch            ;включить disp и выкл курсор
0744 121639          956                 lcall   disp_wcomm
                     957    
                     958    ;func111 
0747 758001          959                mov     p0,#01h             ;функция ОТБОЙ АБ.
074A 121639          960                lcall   disp_wcomm
074D 7F80            961                mov     r7,#080h                 ;  вывод текста ОТБОЙ АБ.
074F 9016D5          962                mov     dptr,#totboy            
0752 8F80            963    func11a:    mov     p0,r7
0754 121639          964                lcall   disp_wcomm
0757 7400            965                mov     a,#00h
0759 93              966                movc    a,@a+dptr
075A F580            967                mov     p0,a
075C 121646          968                lcall   disp_wdata
075F A3              969                inc     dptr
0760 0F              970                inc     r7
0761 7400            971                mov     a,#00h
0763 93              972                movc    a,@a+dptr
0764 B4FFEB          973                cjne    a,#0ffh,func11a
0767 7822            974                 mov     r0,#022h
0769 7922            975                 mov     r1,#022h            
076B 7580C0          976                 mov     p0,#0c0h        ; вывод в начале второй строки           
076E 121639          977                 lcall   disp_wcomm
0771 8680            978                 mov     p0,@r0
0773 121646          979                 lcall   disp_wdata
0776 E6              980                 mov     a,@r0                                       ;смотрим шо там в памяти КО
                                                                               НТРОЛЯ
0777 B44103          981                 cjne    a,#041h,kfa119                            ;и идем на вывод того что соо
                                                                               тветственно
077A 020799          982                 ljmp    kfa196                                    ;
                     983    
077D 30A2FD          984    kfa119:      jnb     p2.2,kfa119
0780 30A4FA          985                 jnb     p2.4,kfa119
0783 30A205          986    kfa191:      jnb     p2.2,func192
0786 30A43A          987                 jnb     p2.4,func195
0789 E183            988                 ajmp    kfa191             
078B 7580C0          989    func192:     mov     p0,#0c0h            
078E 121639          990                 lcall   disp_wcomm
0791 758041          991                 mov     p0,#041h
0794 121646          992                 lcall   disp_wdata
0797 7741            993                 mov     @r1,#041h
0799 30A2FD          994    kfa196:      jnb     p2.2,kfa196
079C 30A4FA          995                 jnb     p2.4,kfa196
079F 30A205          996    kfa197:      jnb     p2.2,func193
07A2 30A41E          997                 jnb     p2.4,func195
07A5 E19F            998                 ajmp    kfa197         
07A7 7580C0          999    func193:      mov     p0,#0c0h            
07AA 121639         1000                 lcall   disp_wcomm
07AD 7580A0         1001                 mov     p0,#0a0h
07B0 121646         1002                 lcall   disp_wdata
07B3 77A0           1003                 mov     @r1,#0a0h
KVART100                                                                                                      PAGE 19

07B5 30A2FD         1004    kfa198:      jnb     p2.2,kfa198
07B8 30A4FA         1005                 jnb     p2.4,kfa198
07BB 30A2CD         1006    kfa199:      jnb     p2.2,func192
07BE 30A402         1007                 jnb     p2.4,func195
07C1 E1BB           1008                 ajmp    kfa199         
07C3 75800C         1009    func195:      mov     p0,#00ch            ;включить disp и выкл курсор
07C6 121639         1010                 lcall   disp_wcomm
                    1011    
                    1012    
                    1013    
                    1014    ;func10
07C9 758001         1015                mov     p0,#01h          ;функция старт
07CC 121639         1016                lcall   disp_wcomm
07CF 7F80           1017                mov     r7,#080h                 ;  вывод текста СТАРТ 
07D1 9016DF         1018                mov     dptr,#tstart            
07D4 8F80           1019    func100:    mov     p0,r7
07D6 121639         1020                lcall   disp_wcomm
07D9 7400           1021                mov     a,#00h
07DB 93             1022                movc    a,@a+dptr
07DC F580           1023                mov     p0,a
07DE 121646         1024                lcall   disp_wdata
07E1 A3             1025                inc     dptr
07E2 0F             1026                inc     r7
07E3 7400           1027                mov     a,#00h
07E5 93             1028                movc    a,@a+dptr
07E6 B4FFEB         1029                cjne    a,#0ffh,func100
                    1030                
07E9 7E80           1031    kf10:       mov     r6,#080h
07EB DEFE           1032    kf110:      djnz    r6,kf110
07ED 30A2F9         1033                jnb     p2.2,kf10
07F0 30A4F6         1034                jnb     p2.4,kf10
07F3 7E80           1035    kf101:      mov     r6,#080h
07F5                1036    kf111:      
07F5 30A207         1037                jnb     p2.2,func1111
07F8 30A43B         1038                jnb     p2.4,funcr11
07FB DEF8           1039                djnz    r6,kf111
07FD E1F3           1040                ajmp    kf101
07FF 7880           1041    func1111:    mov     r0,#080h                        ;занесение в память введенных значений 
                                                                                                                        
                                                                                           ;первого времени и всех 
0801 A630           1042                 mov     @r0,030h                        ;раз измерений ,хранившихся во временно
                                                                               й                                        
                                                                                             ;памяти
0803 08             1043                 inc     r0
0804 A631           1044                 mov     @r0,031h
0806 08             1045                 inc     r0
0807 A632           1046                 mov     @r0,032h
0809 08             1047                 inc     r0
080A A633           1048                 mov     @r0,033h
080C 08             1049                 inc     r0
080D A634           1050                 mov     @r0,034h
080F 08             1051                 inc     r0
0810 08             1052                 inc     r0
0811 08             1053                 inc     r0
0812 A635           1054                 mov     @r0,035h
0814 08             1055                 inc     r0
0815 A636           1056                 mov     @r0,036h
0817 7890           1057                 mov     r0,#090h
KVART100                                                                                                      PAGE 20

0819 A637           1058                 mov     @r0,037h
081B 08             1059                 inc     r0
081C A638           1060                 mov     @r0,038h 
081E 7899           1061                 mov     r0,#099h
0820 A639           1062                 mov     @r0,039h
0822 08             1063                 inc     r0
0823 A63A           1064                 mov     @r0,03ah
0825 78A2           1065                 mov     r0,#0a2h
0827 A63B           1066                 mov     @r0,03bh
0829 08             1067                 inc     r0
082A A63C           1068                 mov     @r0,03ch
082C 78AB           1069                 mov     r0,#0abh
082E A63D           1070                 mov     @r0,03dh
0830 08             1071                 inc     r0
0831 A63E           1072                 mov     @r0,03eh 
                    1073    
                    1074    
                    1075    
0833 020872         1076                ljmp    otschet  
                    1077    
                    1078    
0836 758001         1079    funcr11:    mov     p0,#01h          ;функция ПРОБА
0839 121639         1080                lcall   disp_wcomm
083C 7F80           1081                mov     r7,#080h                 ;  вывод текста ПРОБА 
083E 901750         1082                mov     dptr,#proba           
0841 8F80           1083    func800:    mov     p0,r7
0843 121639         1084                lcall   disp_wcomm
0846 7400           1085                mov     a,#00h
0848 93             1086                movc    a,@a+dptr
0849 F580           1087                mov     p0,a
084B 121646         1088                lcall   disp_wdata
084E A3             1089                inc     dptr
084F 0F             1090                inc     r7
0850 7400           1091                mov     a,#00h
0852 93             1092                movc    a,@a+dptr
0853 B4FFEB         1093                cjne    a,#0ffh,func800
                    1094                
0856 7E80           1095    kf900:      mov     r6,#080h
0858 DEFE           1096    kf9110:      djnz    r6,kf9110
085A 30A2F9         1097                jnb     p2.2,kf900
085D 30A4F6         1098                jnb     p2.4,kf900
0860 7E80           1099    kf9101:      mov     r6,#080h
0862                1100    kf9111:      
0862 30A207         1101                jnb     p2.2,func9111
0865 30A407         1102                jnb     p2.4,func911
0868 DEF8           1103                djnz    r6,kf9111
086A 0160           1104                ajmp    kf9101
086C 02118E         1105    func9111:   ljmp    prob  
086F 020183         1106    func911:    ljmp    func1
                    1107    
                    1108    
                    1109    
                    1110    
                    1111    ; начало программы испытаний
0872 751058         1112    otschet:    mov     010h,#058h              ;запись во временную память начального адреса гд
                                                                               е                                        
                                                                                                                   ;хран
                                                                               ятся цифры набора АБ 2
KVART100                                                                                                      PAGE 21

0875 751100         1113                mov     011h,#000h                   ;запись во времен. память номера проверки д
                                                                               ля                                       
                                                                                                                        
                                                                               ;АБонентов(АБ А=0)АБ Б=1 итд
0878 7C0A           1114                mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отве
                                                                               тов                                      
                                                                                                                        
                                                                                     ;станции
087A 75270A         1115                mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий прие
                                                                               ма                                       
                                                                                                                        
                                                                                     ;вызовов
087D 75280A         1116                mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стгн
                                                                               алов                                     
                                                                                                                        
                                                                                     ;межгорода
0880 78C1           1117                mov     r0,#0c1h
0882 8621           1118                mov     021h,@r0
0884 7840           1119                mov     r0,#040h                  ;проверка есть ли цифры набора в памяти номера
                                                                                АБ.1
0886 B62020         1120                cjne    @r0,#020h,nach            ;если нет то вывод текста НЕТ НОМЕРОВ!
0889 7F80           1121    netuti:     mov     r7,#080h                  ;и проверяем есть ли номер АБ.2   
088B 901743         1122                mov     dptr,#netnom            
088E 8F80           1123    netnomer:   mov     p0,r7
0890 121639         1124                lcall   disp_wcomm
0893 7400           1125                mov     a,#00h
0895 93             1126                movc    a,@a+dptr
0896 F580           1127                mov     p0,a
0898 121646         1128                lcall   disp_wdata
089B A3             1129                inc     dptr
089C 0F             1130                inc     r7
089D 7400           1131                mov     a,#00h
089F 93             1132                movc    a,@a+dptr
08A0 B4FFEB         1133                cjne    a,#0ffh,netnomer 
08A3 12144F         1134                lcall   sek
08A6 020183         1135                ljmp    func1                     ;и идем на самое начало 
08A9 7858           1136    nach:       mov     r0,#058h                  ;проверка есть ли цифры набора в памяти номера
                                                                                АБ.2
08AB B62003         1137                cjne    @r0,#020h,nachalo         ;если нет то вывод текста НЕТ НОМЕРОВ!
08AE 020889         1138                ljmp    netuti                     
                    1139    
                    1140    
08B1 751F00         1141    nachalo:    mov     01fh,#000h                   ;установка номера проверки в 0 (первая пров
                                                                               ерка)          
08B4 7C0A           1142                mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отве
                                                                               тов                                      
                                                                                                 ;станции
08B6 75270A         1143                mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий прие
                                                                               ма                                       
                                                                                                ;вызовов
08B9 75280A         1144                mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стгн
                                                                               алов                                     
                                                                                                  ;межгорода
08BC 7880           1145                mov     r0,#080h               ;запись в регистр адреса старшей цифры отсчета вр
                                                                               емени
08BE 7987           1146                mov     r1,#087h               ;запись в регистр адреса старшей цифры количества
                                                                                раз
08C0 8613           1147                mov     013h,@r0                 ;запись в о временную память цифр отсчета време
KVART100                                                                                                      PAGE 22

                                                                               ни
08C2 8619           1148                mov     019h,@r0
08C4 08             1149                inc     r0
08C5 8614           1150                mov     014h,@r0
08C7 861A           1151                mov     01ah,@r0
08C9 08             1152                inc     r0
08CA 8615           1153                mov     015h,@r0
08CC 861B           1154                mov     01bh,@r0
08CE 08             1155                inc     r0
08CF 08             1156                inc     r0
08D0 8616           1157                mov     016h,@r0 
08D2 861C           1158                mov     01ch,@r0 
08D4 8717           1159                mov     017h,@r1                 ;запись во временную память количества раз пров
                                                                               ерок
08D6 871D           1160                mov     01dh,@r1   
08D8 09             1161                inc     r1
08D9 8718           1162                mov     018h,@r1
08DB 871E           1163                mov     01eh,@r1                 
08DD 78C1           1164                mov     r0,#0c1h
08DF 8621           1165                mov     021h,@r0
08E1 0511           1166                inc     011h                 ;увеличение на 1 номера набора АБ для перехода в   
                                                                                                                      ;п
                                                                               оследующем на набор следующего АБ
08E3 E517           1167                mov     a,017h                   ;проверка на 0 количества раз при первой провер
                                                                               ке      
08E5 B43008         1168                cjne    a,#030h,progra                 ;старшая цифра количества раз
08E8 E518           1169                mov     a,018h
08EA B43003         1170                cjne    a,#030h,progra                 ;младшая цифра количества раз
08ED 020E68         1171                ljmp    prov2                             ;если количество раз при первой провер
                                                                               ке                                       
                                                                                               ;равно нулю перейти к про
                                                                               в 2
                    1172                
                    1173    ; начало функций набора номера и всяческих проверок ответов станции
08F0 758001         1174    progra:     mov     p0,#01h               
08F3 121639         1175                lcall   disp_wcomm
08F6 78C1           1176                mov     r0,#0c1h
08F8 8621           1177                mov     021h,@r0
08FA D297           1178                setb    p1.7                     ;установка номеронабирателя в рабочий режим
08FC E517           1179                mov     a,017h                   ;проверка на 0 количества раз проверок      
08FE B43008         1180                cjne    a,#030h,progra1                 ;старшая цифра количества раз
0901 E518           1181                mov     a,018h
0903 B43003         1182                cjne    a,#030h,progra1                 ;младшая цифра количества раз
0906 020D80         1183                ljmp    kom                             ;если количество раз при проверке равно 
                                                                               нулю                                     
                                                                                                                        
                                                                                                         ;перейти к KOM
                                                                               
0909 12144F         1184    progra1:    lcall   sek                      ;задержка на 3 сек перед занятием линии
090C 12144F         1185                lcall   sek                      ;
090F 12144F         1186                lcall   sek                      ;
0912 E509           1187                mov     a,009h
0914 4410           1188                orl     a,#010h
0916 F580           1189                mov     p0,a          ; вкл линию аб А 
0918 7590A0         1190                mov     p1,#0a0h             ;1 запись в регистр упр 
091B 7590B0         1191                mov     p1,#0b0h             ;2
091E 78B1           1192                mov     r0,#0b1h                 ; адрес памяти старшей цифры ожидания ответа ст
                                                                               
KVART100                                                                                                      PAGE 23

0920 79B2           1193                mov     r1,#0b2h                 ; адрес памяти младшей цифры ожидания ответа ст
                                                                               
0922 B63006         1194                cjne    @r0,#030h,connect1               ;1 сравнить с памятью цифр если нули то
                                                                                не                                      
                                                                                                                        
                                                                                   ;проверяем отв ст 
0925 B73050         1195                cjne    @r1,#030h,connect2               ;2
0928 020A32         1196    progra11:   ljmp    nabnom
092B E6             1197    connect1:   mov     a,@r0                    ;чтение старшей цифры ож
092C 540F           1198                anl     a,#00fh                  ;установка старшего полубайта в 0
092E FD             1199                mov     r5,a                     ;запись времени ож  в сек во временный рег R5
092F 7B0A           1200                mov     r3,#00ah                 ;установка множителя 10хсек
0931                1201    connect11:  ;jnb     p2.7,progra11              ; проверка наличия отв ст(0) если нет (1) то
                                                                                                                        
                                                                                                                       ;
                                                                               ожидание если есть то набор
                    1202                ;lcall   sek             
0931 758001         1203                mov     p0,#001h          
0934 121639         1204                lcall   disp_wcomm
0937 7F80           1205                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
0939 90173A         1206                mov     dptr,#ozid            
093C 8F80           1207    connozid:   mov     p0,r7
093E 121639         1208                lcall   disp_wcomm
0941 7400           1209                mov     a,#00h
0943 93             1210                movc    a,@a+dptr
0944 F580           1211                mov     p0,a
0946 121646         1212                lcall   disp_wdata
0949 A3             1213                inc     dptr
094A 0F             1214                inc     r7
094B 7400           1215                mov     a,#00h
094D 93             1216                movc    a,@a+dptr
094E B4FFEB         1217                cjne    a,#0ffh,connozid
0951 7FC0           1218                mov     r7,#0c0h           ;  вывод текста Ответ ст на второй строке
0953 9016A0         1219                mov     dptr,#totvet            
0956 8F80           1220    connozida:  mov     p0,r7
0958 121639         1221                lcall   disp_wcomm
095B 7400           1222                mov     a,#00h
095D 93             1223                movc    a,@a+dptr
095E F580           1224                mov     p0,a
0960 121646         1225                lcall   disp_wdata
0963 A3             1226                inc     dptr
0964 0F             1227                inc     r7
0965 7400           1228                mov     a,#00h
0967 93             1229                movc    a,@a+dptr
0968 B4FFEB         1230                cjne    a,#0ffh,connozida
096B 30A7BA         1231                jnb     p2.7,progra11              ; проверка наличия отв ст(0) если нет (1) то 
                                                                                                                        
                                                                                                                      ;о
                                                                               жидание если есть то набор
096E 12144F         1232                lcall   sek 
0971 30A46F         1233                jnb     p2.4,pryg1                  ;принудительный выход из проверок по нажат "
                                                                               OK"
0974 DBBB           1234                djnz    r3,connect11
0976 DDB9           1235                djnz    r5,connect11
0978 B7306B         1236    connect2:   cjne    @r1,#030h,connect21
097B 30A7AA         1237                jnb     p2.7,progra11                          
097E 758000         1238                mov     p0,#000h                 ;1выкл линии аб А
0981 7590A0         1239                mov     p1,#0a0h                 ;2
KVART100                                                                                                      PAGE 24

0984 7590B0         1240                mov     p1,#0b0h                 ;3
0987 758001         1241    func302:    mov     p0,#01h               ;вывод текста НЕТ ОТВ СТ
098A 121639         1242                lcall   disp_wcomm
098D 7F80           1243                mov     r7,#080h                 ;  вывод текста НЕТ 
098F 9016E7         1244                mov     dptr,#tnet            
0992 8F80           1245    func300:    mov     p0,r7
0994 121639         1246                lcall   disp_wcomm
0997 7400           1247                mov     a,#00h
0999 93             1248                movc    a,@a+dptr
099A F580           1249                mov     p0,a
099C 121646         1250                lcall   disp_wdata
099F A3             1251                inc     dptr
09A0 0F             1252                inc     r7
09A1 7400           1253                mov     a,#00h
09A3 93             1254                movc    a,@a+dptr
09A4 B4FFEB         1255                cjne    a,#0ffh,func300
09A7 7FC0           1256                mov     r7,#0c0h                       ;  вывод текста Ответ ст
09A9 9016A0         1257                mov     dptr,#totvet            
09AC 8F80           1258    func301:    mov     p0,r7
09AE 121639         1259                lcall   disp_wcomm
09B1 7400           1260                mov     a,#00h
09B3 93             1261                movc    a,@a+dptr
09B4 F580           1262                mov     p0,a
09B6 121646         1263                lcall   disp_wdata
09B9 A3             1264                inc     dptr
09BA 0F             1265                inc     r7
09BB 7400           1266                mov     a,#00h
09BD 93             1267                movc    a,@a+dptr
09BE B4FFEB         1268                cjne    a,#0ffh,func301
09C1 758080         1269                mov     p0,#080h          ; выкл линию аб А и вкл ГЕН
09C4 7590A0         1270                mov     p1,#0a0h             ;1 запись в регистр упр 
09C7 7590B0         1271                mov     p1,#0b0h             ;2
09CA 12144F         1272                lcall   sek
09CD 758000         1273                mov     p0,#000h          ; выкл линию аб А и выкл ГЕН
09D0 7590A0         1274                mov     p1,#0a0h             ;1 запись в регистр упр 
09D3 7590B0         1275                mov     p1,#0b0h             ;2
09D6 30A40A         1276                jnb     p2.4,pryg1                  ;принудительный выход из проверок по нажат "
                                                                               OK" 
                    1277                
09D9 DC05           1278                djnz    r4,net1
09DB 0511           1279                inc     011h
09DD 020F3A         1280                ljmp    kommab
09E0 0208F0         1281    net1:       ljmp    progra
09E3 020183         1282    pryg1:      ljmp    func1
09E6 E7             1283    connect21:  mov     a,@r1                    ;чтение младшей цифры ож
09E7 540F           1284                anl     a,#00fh                  ;установка старшего полубайта в 0
09E9 FD             1285                mov     r5,a                     ;запись времени ож во временный рег R5
09EA 758001         1286    connect211:  mov     p0,#001h          
09ED 121639         1287                lcall   disp_wcomm
09F0 7F80           1288                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
09F2 90173A         1289                mov     dptr,#ozid            
09F5 8F80           1290    connozid1:   mov     p0,r7
09F7 121639         1291                lcall   disp_wcomm
09FA 7400           1292                mov     a,#00h
09FC 93             1293                movc    a,@a+dptr
09FD F580           1294                mov     p0,a
09FF 121646         1295                lcall   disp_wdata
0A02 A3             1296                inc     dptr
KVART100                                                                                                      PAGE 25

0A03 0F             1297                inc     r7
0A04 7400           1298                mov     a,#00h
0A06 93             1299                movc    a,@a+dptr
0A07 B4FFEB         1300                cjne    a,#0ffh,connozid1
0A0A 7FC0           1301                mov     r7,#0c0h           ;  вывод текста Ответ ст на второй строке
0A0C 9016A0         1302                mov     dptr,#totvet            
0A0F 8F80           1303    connozida1:  mov     p0,r7
0A11 121639         1304                lcall   disp_wcomm
0A14 7400           1305                mov     a,#00h
0A16 93             1306                movc    a,@a+dptr
0A17 F580           1307                mov     p0,a
0A19 121646         1308                lcall   disp_wdata
0A1C A3             1309                inc     dptr
0A1D 0F             1310                inc     r7
0A1E 7400           1311                mov     a,#00h
0A20 93             1312                movc    a,@a+dptr
0A21 B4FFEB         1313                cjne    a,#0ffh,connozida1
0A24 30A70B         1314                jnb     p2.7,nabnom                     ; проверка наличия отв ст(0) если нет (1
                                                                               ) то                                     
                                                                                                                        
                                                                                  ;ожидание
0A27 12144F         1315                lcall   sek             
0A2A 30A4B6         1316                jnb     p2.4,pryg1                  ;принудительный выход из проверок по нажат "
                                                                               OK" 
0A2D DDBB           1317                djnz    r5,connect211
0A2F 020987         1318                ljmp    func302
                    1319    
                    1320    
0A32 D297           1321    nabnom:     setb    p1.7                     ;установка номеронабирателя в рабочий режим
0A34 A810           1322                mov     r0,010h           ;набор номера----установка адреса памяти номера аб А и
                                                                               з                                        
                                                                                                             ;временной 
                                                                               памяти
0A36 79C2           1323                mov     r1,#0c2h             ;1предустановка байта @0c2 (T/P) в P
0A38 771F           1324                mov     @r1,#01fh            ;2
0A3A 7C80           1325                mov     r4,#080h                              ;адрес вывода набираемой цифры на 
                                                                               экран
0A3C 758001         1326                mov     p0,#001h          
0A3F 121639         1327                lcall   disp_wcomm
0A42 E6             1328    nabnom0:    mov     a,@r0              ;чтение первой цифры набора номера
0A43 B4570C         1329                cjne    a,#057h,nabnom1
0A46 12144F         1330                lcall   sek
0A49 12144F         1331                lcall   sek
0A4C 12144F         1332                lcall   sek
0A4F 020A7E         1333                ljmp    nabnom21
0A52 B45405         1334    nabnom1:    cjne    a,#054h,nabnom2            
0A55 770F           1335                mov     @r1,#00fh
0A57 020A7E         1336                ljmp    nabnom21 
0A5A B45005         1337    nabnom2:    cjne    a,#050h,nabnom6
0A5D 771F           1338                mov     @r1,#01fh
0A5F 020A7E         1339                ljmp    nabnom21
0A62 B40203         1340    nabnom6:    cjne    a,#002h,nabnom7               ;проверка на межгород ( 8 инверсная )
0A65 02149A         1341                ljmp    mezgor   
0A68 B42305         1342    nabnom7:    cjne    a,#023h,nabnom3                ;проверка на(#) если да то принуд зап код
                                                                               а 0bh
0A6B 740B           1343                mov     a,#00bh                        ;в номеронабиратель
0A6D 020A86         1344                ljmp    nabnom42
0A70 B42A05         1345    nabnom3:    cjne    a,#02ah,nabnom35                ;проверка на(*) если да то принуд зап ко
KVART100                                                                                                      PAGE 26

                                                                               да 00h
0A73 7400           1346                mov     a,#000h                        ;в номеронабиратель
0A75 020A86         1347                ljmp    nabnom42  
0A78 B42007         1348    nabnom35:   cjne    a,#020h,nabnom4
0A7B 020A95         1349                ljmp    nabnom5
0A7E 08             1350    nabnom21:   inc     r0
0A7F 020A42         1351                ljmp    nabnom0
0A82                1352    nabnom4: 
0A82 1211BE         1353                lcall   ind            ;вывод набираемой цифры на экран
0A85 57             1354                anl     a,@r1         
0A86 D297           1355    nabnom42:   setb    p1.7                ;включение ВЫВОД ЦИФРЫ в номеронабирателе 
0A88 F580           1356                mov     p0,a                ;1 запись цифры в номеронабиратель             
0A8A D293           1357                setb    p1.3                ;2 
0A8C C293           1358                clr     p1.3                ;3 
                    1359    ;            mov     p1,#030h                ;1 запись цифры в номеронабиратель
                    1360    ;            mov     p1,#038h                ;2 
                    1361    ;            mov     p1,#030h                ;3
0A8E 30A5FD         1362    nabnom41:   jnb     p2.5,nabnom41           ;ожидание готовности номеронабирателя
0A91 08             1363                inc     r0
0A92 020A42         1364                ljmp    nabnom0
0A95 758001         1365    nabnom5:     mov     p0,#01h        ;прием вызова       
0A98 121639         1366                lcall   disp_wcomm
0A9B 7C0A           1367                mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отве
                                                                               тов                                      
                                                                                                                        
                                                                                     ;станции
0A9D 78B5           1368                mov     r0,#0b5h                 ; адрес памяти старшей цифры ожидания приема вы
                                                                               з
0A9F 79B6           1369                mov     r1,#0b6h                 ; адрес памяти младшей цифры ожидания приема вы
                                                                               з
0AA1 B63006         1370                cjne    @r0,#030h,connecto1               ;1 сравнить с памятью цифр если нули т
                                                                               о не   проверяем отв ст          
0AA4 B7304D         1371                cjne    @r1,#030h,connecto2               ;2
0AA7 020BAC         1372    con111:     ljmp    connecto3
0AAA E6             1373    connecto1:   mov     a,@r0                    ;чтение старшей цифры ож
0AAB 540F           1374                anl     a,#00fh                  ;установка старшего полубайта в 0
0AAD FD             1375                mov     r5,a                     ;запись времени ож  в сек во временный рег R5
0AAE 7B0A           1376                mov     r3,#00ah                 ;установка множителя 10хсек
0AB0 758001         1377    connecto11: mov     p0,#001h          
0AB3 121639         1378                lcall   disp_wcomm
0AB6 7F80           1379                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
0AB8 90173A         1380                mov     dptr,#ozid            
0ABB 8F80           1381    connozd1:   mov     p0,r7
0ABD 121639         1382                lcall   disp_wcomm
0AC0 7400           1383                mov     a,#00h
0AC2 93             1384                movc    a,@a+dptr
0AC3 F580           1385                mov     p0,a
0AC5 121646         1386                lcall   disp_wdata
0AC8 A3             1387                inc     dptr
0AC9 0F             1388                inc     r7
0ACA 7400           1389                mov     a,#00h
0ACC 93             1390                movc    a,@a+dptr
0ACD B4FFEB         1391                cjne    a,#0ffh,connozd1
0AD0 7FC0           1392                mov     r7,#0c0h
0AD2 9016B2         1393                mov     dptr,#tpriem         ;  вывод текста ПРИЕМ ВЫЗОВА на второй строке    
0AD5 8F80           1394    connozda1:  mov     p0,r7
0AD7 121639         1395                lcall   disp_wcomm
0ADA 7400           1396                mov     a,#00h
KVART100                                                                                                      PAGE 27

0ADC 93             1397                movc    a,@a+dptr
0ADD F580           1398                mov     p0,a
0ADF 121646         1399                lcall   disp_wdata
0AE2 A3             1400                inc     dptr
0AE3 0F             1401                inc     r7
0AE4 7400           1402                mov     a,#00h
0AE6 93             1403                movc    a,@a+dptr
0AE7 B4FFEB         1404                cjne    a,#0ffh,connozda1
0AEA 30A6BA         1405                jnb     p2.6,con111                     ; проверка наличия приема выз(0) если не
                                                                               т (1)                                    
                                                                                                                        
                                                                                  ;то ожидание
0AED 12144F         1406                lcall   sek             
0AF0 DBBE           1407                djnz    r3,connecto11
0AF2 DDBC           1408                djnz    r5,connecto11
0AF4 B7306C         1409    connecto2:   cjne    @r1,#030h,connecto21
0AF7 30A6AD         1410                jnb     p2.6,con111                          
0AFA 758000         1411                mov     p0,#000h                 ;1выкл линии аб А и аб Б
0AFD 7590A0         1412                mov     p1,#0a0h                 ;2
0B00 7590B0         1413                mov     p1,#0b0h                 ;3
0B03 758001         1414    funco302:    mov     p0,#01h               ;вывод текста НЕТ ПРИЕМА ВЫЗ
0B06 121639         1415                lcall   disp_wcomm
0B09 7F80           1416                mov     r7,#080h                 ;  вывод текста НЕТ 
0B0B 9016E7         1417                mov     dptr,#tnet            
0B0E 8F80           1418    funco300:    mov     p0,r7
0B10 121639         1419                lcall   disp_wcomm
0B13 7400           1420                mov     a,#00h
0B15 93             1421                movc    a,@a+dptr
0B16 F580           1422                mov     p0,a
0B18 121646         1423                lcall   disp_wdata
0B1B A3             1424                inc     dptr
0B1C 0F             1425                inc     r7
0B1D 7400           1426                mov     a,#00h
0B1F 93             1427                movc    a,@a+dptr
0B20 B4FFEB         1428                cjne    a,#0ffh,funco300
0B23 7FC0           1429                mov     r7,#0c0h                       ;  вывод текста прием выз
0B25 9016B2         1430                mov     dptr,#tpriem            
0B28 8F80           1431    funco301:    mov     p0,r7
0B2A 121639         1432                lcall   disp_wcomm
0B2D 7400           1433                mov     a,#00h
0B2F 93             1434                movc    a,@a+dptr
0B30 F580           1435                mov     p0,a
0B32 121646         1436                lcall   disp_wdata
0B35 A3             1437                inc     dptr
0B36 0F             1438                inc     r7
0B37 7400           1439                mov     a,#00h
0B39 93             1440                movc    a,@a+dptr
0B3A B4FFEB         1441                cjne    a,#0ffh,funco301
0B3D 758080         1442                mov     p0,#080h          ; выкл линию аб А и аб Б и вкл ГЕН
0B40 7590A0         1443                mov     p1,#0a0h             ;1 запись в регистр упр 
0B43 7590B0         1444                mov     p1,#0b0h             ;2
0B46 12144F         1445                lcall   sek
0B49 758000         1446                mov     p0,#000h          ; выкл линию аб А и аб Б и выкл ГЕН
0B4C 7590A0         1447                mov     p1,#0a0h             ;1 запись в регистр упр 
0B4F 7590B0         1448                mov     p1,#0b0h             ;2
0B52 30A40B         1449                jnb     p2.4,pryg2                    ;принуд выход из проверок по наж "OK"
0B55 D52705         1450                djnz    027h,net2
0B58 0511           1451                inc     011h
KVART100                                                                                                      PAGE 28

0B5A 020F3A         1452                ljmp    kommab
0B5D 0208F0         1453    net2:       ljmp    progra
0B60 020183         1454    pryg2:      ljmp    func1
0B63 E7             1455    connecto21:  mov     a,@r1                    ;чтение младшей цифры ож
0B64 540F           1456                anl     a,#00fh                  ;установка старшего полубайта в 0
0B66 FD             1457                mov     r5,a                     ;запись времени ож во временный рег R5
0B67 758001         1458    connecto211: mov     p0,#001h          
0B6A 121639         1459                lcall   disp_wcomm
0B6D 7F80           1460                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
0B6F 90173A         1461                mov     dptr,#ozid            
0B72 8F80           1462    connozd2:   mov     p0,r7
0B74 121639         1463                lcall   disp_wcomm
0B77 7400           1464                mov     a,#00h
0B79 93             1465                movc    a,@a+dptr
0B7A F580           1466                mov     p0,a
0B7C 121646         1467                lcall   disp_wdata
0B7F A3             1468                inc     dptr
0B80 0F             1469                inc     r7
0B81 7400           1470                mov     a,#00h
0B83 93             1471                movc    a,@a+dptr
0B84 B4FFEB         1472                cjne    a,#0ffh,connozd2
0B87 7FC0           1473                mov     r7,#0c0h
0B89 9016B2         1474                mov     dptr,#tpriem         ;  вывод текста ПРИЕМ ВЫЗОВА на второй строке    
0B8C 8F80           1475    connozda2:  mov     p0,r7
0B8E 121639         1476                lcall   disp_wcomm
0B91 7400           1477                mov     a,#00h
0B93 93             1478                movc    a,@a+dptr
0B94 F580           1479                mov     p0,a
0B96 121646         1480                lcall   disp_wdata
0B99 A3             1481                inc     dptr
0B9A 0F             1482                inc     r7
0B9B 7400           1483                mov     a,#00h
0B9D 93             1484                movc    a,@a+dptr
0B9E B4FFEB         1485                cjne    a,#0ffh,connozda2
                    1486    
0BA1 30A608         1487                jnb     p2.6,connecto3                     ; проверка наличия приема выз(0) если
                                                                                нет                                     
                                                                                                   ;(1) то ожидание
0BA4 12144F         1488                lcall   sek             
0BA7 DDBE           1489                djnz    r5,connecto211
0BA9 020B03         1490                ljmp    funco302
                    1491    
0BAC 758001         1492    connecto3:  mov     p0,#001h            ;сброс DISP и курсора 
0BAF 121639         1493                lcall   disp_wcomm
0BB2 75800C         1494                mov     p0,#00ch            ;включить disp и выкл курсор
0BB5 121639         1495                lcall   disp_wcomm 
0BB8 758080         1496                mov     p0,#080h              ;вывод временной памяти на экран
0BBB 121639         1497                lcall   disp_wcomm
0BBE 851380         1498                mov     p0,013h
0BC1 121646         1499                lcall   disp_wdata
0BC4 758081         1500                mov     p0,#081h              ;вывод временной памяти на экран
0BC7 121639         1501                lcall   disp_wcomm
0BCA 851480         1502                mov     p0,014h
0BCD 121646         1503                lcall   disp_wdata
0BD0 758082         1504                mov     p0,#082h              ;вывод временной памяти на экран
0BD3 121639         1505                lcall   disp_wcomm
0BD6 851580         1506                mov     p0,015h
0BD9 121646         1507                lcall   disp_wdata
KVART100                                                                                                      PAGE 29

0BDC 758083         1508                mov     p0,#083h              ;вывод запятой на экран
0BDF 121639         1509                lcall   disp_wcomm
0BE2 75802C         1510                mov     p0,#02ch
0BE5 121646         1511                lcall   disp_wdata
0BE8 758084         1512                mov     p0,#084h              ;вывод временной памяти на экран
0BEB 121639         1513                lcall   disp_wcomm
0BEE 851680         1514                mov     p0,016h
0BF1 121646         1515                lcall   disp_wdata
0BF4 758085         1516                mov     p0,#085h              ;вывод буквы С на экран
0BF7 121639         1517                lcall   disp_wcomm
0BFA 758063         1518                mov     p0,#063h               
0BFD 121646         1519                lcall   disp_wdata
0C00 7580C0         1520                mov     p0,#0c0h              ;вывод второй строки временной памяти на экран
0C03 121639         1521                lcall   disp_wcomm
0C06 851780         1522                mov     p0,017h
0C09 121646         1523                lcall   disp_wdata
0C0C 7580C1         1524                mov     p0,#0c1h              ;вывод второй строки временной памяти на экран
0C0F 121639         1525                lcall   disp_wcomm
0C12 851880         1526                mov     p0,018h
0C15 121646         1527                lcall   disp_wdata 
0C18 7580C2         1528                mov     p0,#0c2h             
0C1B 121639         1529                lcall   disp_wcomm
0C1E 758020         1530                mov     p0,#020h
0C21 121646         1531                lcall   disp_wdata 
0C24 7FC3           1532                 mov    r7,#0c3h
0C26 90172B         1533                 mov     dptr,#traz        ; вывод раз                
0C29 8F80           1534    ots1:        mov     p0,r7
0C2B 121639         1535                 lcall   disp_wcomm
0C2E 7400           1536                 mov     a,#00h
0C30 93             1537                 movc    a,@a+dptr
0C31 F580           1538                 mov     p0,a
0C33 121646         1539                 lcall   disp_wdata
0C36 A3             1540                 inc     dptr
0C37 0F             1541                 inc     r7
0C38 7400           1542                 mov     a,#00h
0C3A 93             1543                 movc    a,@a+dptr
0C3B B4FFEB         1544                 cjne    a,#0ffh,ots1
0C3E 7580C8         1545                 mov     p0,#0c8h          ;вывод на экран "время c" для индикации отсчетов в се
                                                                               к при  проверках   
0C41 121639         1546                 lcall   disp_wcomm
0C44 851980         1547                 mov     p0,019h
0C47 121646         1548                 lcall   disp_wdata 
0C4A 7580C9         1549                 mov     p0,#0c9h             
0C4D 121639         1550                 lcall   disp_wcomm
0C50 851A80         1551                 mov     p0,01ah
0C53 121646         1552                 lcall   disp_wdata 
0C56 7580CA         1553                 mov     p0,#0cah             
0C59 121639         1554                 lcall   disp_wcomm
0C5C 851B80         1555                 mov     p0,01bh
0C5F 121646         1556                 lcall   disp_wdata
0C62 7580CB         1557                 mov     p0,#0cbh             
0C65 121639         1558                 lcall   disp_wcomm
0C68 758063         1559                 mov     p0,#063h
0C6B 121646         1560                 lcall   disp_wdata
                    1561    
                    1562    
0C6E 7430           1563                 mov     a,#030h                         ;проверка на 0 младшей цифры раз
0C70 B51806         1564                 cjne    a,018h,ots2  
KVART100                                                                                                      PAGE 30

0C73 B51703         1565                 cjne    a,017h,ots2                         ;проверка на 0 старшей цифры раз 
0C76 020D80         1566                 ljmp    kom
                    1567    
                    1568    
                    1569    
0C79 752900         1570    ots2:      mov     029h,#00h         ; очистка ячеек делителя для счетчика 29 мл. и 2A ст.
0C7C 752A00         1571                 mov     02ah,#00h
0C7F E516           1572                 mov     a,016h              ; перевод дес. знач. времени в делитель для счетчик
                                                                               а
0C81 F529           1573                 mov     029h,a              ; занесение времени отсчета в МС в мл. ячейку делит
                                                                               еля
0C83 53290F         1574                 anl     029h,#00fh               
0C86 1529           1575                 dec     029h              ;уменьшение на 1 количества МСек для норм. работы сче
                                                                               тчика     
0C88 85152B         1576                 mov     02bh,015h              ;занесение в промежуточный регистр значений врем
                                                                               ени в СЕК    
0C8B 532B0F         1577                 anl     02bh,#00fh            ; перевод в HEX
0C8E AD2B           1578                 mov     r5,02bh             ; занесение в промежуточный регистр значений времен
                                                                               и в СЕК
0C90 7400           1579                 mov     a,#00h                         ;занесение в аккк. значения для проверки
                                                                                на 00 кол. СЕК
0C92 B52B03         1580                 cjne     a,02bh,ots2b               ; проверить на 0 кол СЕК , если =0 то идти 
                                                                               к ДЕС СЕК
0C95 020CA0         1581                 ljmp      ots2a1
                    1582    
0C98 7E0A           1583    ots2b:       mov      r6,#00ah                      ;занесение в пром регистр множителя х10 
                                                                               для суммирования СЕК
0C9A 0529           1584    ots2bb:      inc      029h                       ; добавление в делитель количества СЕК
0C9C DEFC           1585                 djnz     r6,ots2bb             
0C9E DDF8           1586                 djnz     r5,ots2b                    ;
                    1587    
0CA0 85142B         1588    ots2a1:      mov      02bh,014h              ;занесение в промежуточный регистр значений вре
                                                                               мени в ДЕС СЕК    
0CA3 532B0F         1589                 anl      02bh,#00fh            ; перевод в HEX
0CA6 AD2B           1590                 mov      r5,02bh             ; занесение в промежуточный регистр значений време
                                                                               ни в ДЕС СЕК
0CA8 7400           1591                 mov      a,#00h                         ;занесение в аккк. значения для проверк
                                                                               и на 00 кол. ДЕС СЕК
0CAA B52B03         1592                 cjne     a,02bh,ots2a              ; проверить на 0 кол ДЕС СЕК , если =0 то ид
                                                                               ти к СОТ СЕК
0CAD 020CC0         1593                 ljmp     ots2c1
0CB0 7E64           1594    ots2a:       mov      r6,#064h                      ;занесение в пром регистр множителя х100
                                                                                для суммирования ДЕС СЕК
0CB2 74FF           1595                 mov      a,#0ffh                         ;занесение в аккк. значения для провер
                                                                               ки на переполнение 029
0CB4 0529           1596    ots2aa:      inc      029h                       ; добавление в делитель количества ДЕС СЕК
                                                                               
0CB6 B52903         1597                 cjne     a,029h,ots2ab                ; проверка на переполнение мл. разряда сч
                                                                               етчика времени изм.    
0CB9 120CE7         1598                 lcall    ots2d                             ; если есть FF то увеличить на 1 ст.
                                                                                разряды
0CBC DEF6           1599    ots2ab:      djnz     r6,ots2aa             
0CBE DDF0           1600                 djnz     r5,ots2a                    ;
                    1601    
0CC0 85132B         1602    ots2c1:      mov      02bh,013h              ;занесение в промежуточный регистр значений вре
                                                                               мени в СОТ СЕК    
0CC3 532B0F         1603                 anl      02bh,#00fh            ; перевод в HEX
0CC6 AD2B           1604                 mov      r5,02bh             ; занесение в промежуточный регистр значений време
KVART100                                                                                                      PAGE 31

                                                                               ни в СОТ СЕК
0CC8 7400           1605                 mov      a,#00h                         ;занесение в аккк. значения для проверк
                                                                               и на 00 кол. СОТ СЕК
0CCA B52B03         1606                 cjne     a,02bh,ots2c            ; проверить на 0 кол СОТ СЕК , если =0 то идти
                                                                                к счету
0CCD 020CEA         1607                 ljmp     counter
                    1608    
0CD0 7E64           1609    ots2c:       mov      r6,#064h                      ;занесение в пром регистр R6 множителя х
                                                                               100 для суммирования СОТ СЕК
0CD2 7C0A           1610    ots2ce:      mov      r4,#00ah                    ;занесение в пром регистр R4 множителя Х10
                                                                                для отсчета
0CD4 74FF           1611                 mov      a,#0ffh                         ;занесение в аккк. значения для провер
                                                                               ки на переполнение 029  
0CD6 0529           1612    ots2cc:      inc      029h                       
0CD8 B52903         1613                 cjne     a,029h,ots2cb                ; проверка на переполнение мл. разряда сч
                                                                               етчика времени изм.    
0CDB 120CE7         1614                 lcall    ots2d                             ; если есть FF то увеличить на 1 ст.
                                                                                разряды
0CDE DCF6           1615    ots2cb:      djnz     r4,ots2cc
0CE0 DEF0           1616                 djnz     r6,ots2ce             
0CE2 DDEC           1617                 djnz     r5,ots2c                    ;   
0CE4 020CEA         1618                 ljmp     counter
0CE7 052A           1619    ots2d:       inc      02ah
0CE9 22             1620                 ret
                    1621    
                    1622    
                    1623    
                    1624    
                    1625    
                    1626    
                    1627    
                    1628    
0CEA 7589D1         1629    counter:      mov     tmod,#0d1h      ;установка режимов счетчиков Т0 в счет. 1 сек , Т1 в с
                                                                               чет. 10 ГЦ 
0CED E529           1630                  mov     a,029h                  ; подготовка коэффициента счета для занесения 
                                                                               в счетчик
0CEF F4             1631                  cpl     a                        
0CF0 F529           1632                  mov     029h,a
0CF2 F58B           1633                  mov     tl1,a                        ;запись коэфф. деления счета МЛ 
0CF4 E52A           1634                  mov     a,02ah
0CF6 F4             1635                  cpl     a
0CF7 F52A           1636                  mov     02ah,a                 ;
0CF9 F58D           1637                  mov     th1,a                        ;запись коэфф. деления счета СТ
0CFB 758C00         1638                  mov     th0,#00h                   ;установки счетчика 1 СЕК
0CFE 758AFF         1639                  mov     tl0,#0ffh
0D01 C28C           1640                  clr     tr0                               ;сброс счетчиков
0D03 C28D           1641                  clr     tf0 
0D05 C28E           1642                  clr     tr1                              ;сброс счетчиков
0D07 C28F           1643                  clr     tf1
0D09 79C1           1644                  mov     r1,#0c1h          ;запись в рег. адреса ячейки памяти с информацией ЕС
                                                                               ТЬ или НЕТ проверка линии
0D0B 7B03           1645                  mov     r3,#003h            ;количество сбоев контроля линии =3
                    1646    
                    1647    ;начало счета, включение линий
                    1648    
0D0D E509           1649                 mov     a,009h                  ; вкл линию аб А и линию аб Б 
0D0F 4430           1650                 orl     a,#030h
0D11 F580           1651                 mov     p0,a                   
KVART100                                                                                                      PAGE 32

0D13 7590A0         1652                 mov     p1,#0a0h               ;1 запись в регистр упр 
0D16 7590B0         1653                 mov     p1,#0b0h               ;2          
                    1654     
0D19 D28E           1655                 setb    tr1                                ;старт счета 10ГЦ
                    1656    
0D1B 758001         1657    count1:      mov     p0,#001h                ;контроль соединения
0D1E D293           1658                 setb    p1.3
0D20 C293           1659                 clr     p1.3   
                    1660    ;             mov     p1,#000h               ;1 запись тональной цифры 1 в номеронабиратель 
                                                                               и включение режима ТОН
                    1661    ;             mov     p1,#008h                ;2 удержание цифры
0D22 C297           1662                 clr     p1.7                   ;включение режима ТЕСТ в номеронабирателе  
0D24 7F17           1663                   mov     r7,#017h                   ;установки счетчика 1 СЕК и запуск
0D26 D28C           1664    count1a:       setb    tr0                                ;старт счета 1ГЦ
                    1665    
0D28 108F23         1666    countsek:      jbc     tf1,count10                 ;проверка конца счета 10ГЦ, сброс готовно
                                                                               сти и переход на КОЛ ПРОВЕРОК 
0D2B 308DFA         1667                   jnb     tf0,countsek           ;проверка конца счета 1СЕК, если есть то вывод
                                                                                цифр     
0D2E C28C           1668                   clr     tr0                               ;сброс счетчиков
0D30 C28D           1669                   clr     tf0 
0D32 DFF2           1670                   djnz    r7,count1a
0D34 B75908         1671                   cjne    @r1,#059h,countsek1                  ; проверка НАДО ЛИ проверять лин
                                                                               ию?           
0D37 20B405         1672                   jb      p3.4,countsek1                               ;чтение контрольного сиг
                                                                               нала наличия линии
0D3A DB03           1673                   djnz    r3,countsek1
0D3C 021178         1674                   ljmp    hy                                   ;включение сигнала аварии
                    1675    
0D3F 1215E1         1676    countsek1:     lcall   dubizm                ; вывод и подсчет секунд до конца проверки
0D42 758C00         1677                   mov     th0,#00h                   ;установки счетчика 1 СЕК
0D45 758AFF         1678                   mov     tl0,#0ffh             
0D48 30A417         1679                   jnb     p2.4,stoper                          ; проверка нажатия клавиш для ОТ
                                                                               КАЗ от проверки, клавиша "OK"
                    1680                
0D4B 020D1B         1681                   ljmp    count1
                    1682    
                    1683    
0D4E C28E           1684    count10:       clr     tr1                               ;сброс счетчиков
0D50 C28F           1685                   clr     tf1 
0D52 758000         1686                   mov     p0,#000h          ; выкл линию аб А и выкл ГЕН
0D55 7590A0         1687                   mov     p1,#0a0h             ;1 запись в регистр упр 
0D58 7590B0         1688                   mov     p1,#0b0h             ;2
0D5B C28C           1689                   clr     tr0                               ;сброс счетчиков
0D5D C28D           1690                   clr     tf0 
0D5F 020D78         1691                   ljmp    raz3
                    1692    
0D62 C28E           1693    stoper:        clr     tr1                               ;сброс счетчиков
0D64 C28F           1694                   clr     tf1 
0D66 758000         1695                   mov     p0,#000h          ; выкл линию аб А и выкл ГЕН
0D69 7590A0         1696                   mov     p1,#0a0h             ;1 запись в регистр упр 
0D6C 7590B0         1697                   mov     p1,#0b0h             ;2
0D6F C28C           1698                   clr     tr0                               ;сброс счетчиков
0D71 C28D           1699                   clr     tf0 
0D73 D297           1700                   setb    p1.7
0D75 020183         1701                   ljmp    func1                         ; насильный конец проверок
                    1702    
                    1703    
KVART100                                                                                                      PAGE 33

                    1704    
                    1705    
0D78 7430           1706    raz3:        mov     a,#030h                         ;проверка на 0 младшей цифры раз
0D7A B5185B         1707                 cjne    a,018h,raz2a  
0D7D B5175B         1708                 cjne    a,017h,raz1                     ;проверка на 0 старшей цифры раз 
                    1709    
                    1710                  
0D80 E51F           1711    kom:         mov     a,01fh
0D82 B4000B         1712                 cjne    a,#000h,sr1 
0D85 7C0A           1713                 mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отв
                                                                               етов                                     
                                                                                                                        
                                                                                                            ;станции
0D87 75270A         1714                 mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий при
                                                                               ема                                      
                                                                                                                        
                                                                                                             ;вызовов
0D8A 75280A         1715                 mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стг
                                                                               налов                                    
                                                                                                                        
                                                                                                            ;межгорода
0D8D 020E68         1716                 ljmp    prov2
0D90 B4010B         1717    sr1:         cjne    a,#001h,sr2 
0D93 7C0A           1718                 mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отв
                                                                               етов                                     
                                                                                                                        
                                                                                                            ;станции
0D95 75270A         1719                 mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий при
                                                                               ема                                      
                                                                                                                        
                                                                                                             ;вызовов
0D98 75280A         1720                 mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стг
                                                                               налов                                    
                                                                                                                        
                                                                                                            ;межгорода
0D9B 020E9D         1721                 ljmp    prov3
0D9E B4020B         1722    sr2:         cjne    a,#002h,sr3
0DA1 7C0A           1723                 mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отв
                                                                               етов                                     
                                                                                                                        
                                                                                                            ;станции
0DA3 75270A         1724                 mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий при
                                                                               ема                                      
                                                                                                                        
                                                                                                             ;вызовов
0DA6 75280A         1725                 mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стг
                                                                               налов                                    
                                                                                                                        
                                                                                                            ;межгорода
0DA9 020ED0         1726                 ljmp    prov4
0DAC B4030B         1727    sr3:         cjne    a,#003h,sr4
0DAF 7C0A           1728                 mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отв
                                                                               етов                                     
                                                                                                                        
                                                                                                            ;станции
0DB1 75270A         1729                 mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий при
                                                                               ема                                      
                                                                                                                        
KVART100                                                                                                      PAGE 34

                                                                                                             ;вызовов
0DB4 75280A         1730                 mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стг
                                                                               налов                                    
                                                                                                                        
                                                                                                            ;межгорода
0DB7 020F05         1731                 ljmp    prov5
0DBA B4040B         1732    sr4:         cjne    a,#004h,sr5
0DBD 7C0A           1733                 mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отв
                                                                               етов                                     
                                                                                                                        
                                                                                                            ;станции
0DBF 75270A         1734                 mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий при
                                                                               ема                                      
                                                                                                                        
                                                                                                             ;вызовов
0DC2 75280A         1735                 mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стг
                                                                               налов                                    
                                                                                                                        
                                                                                                            ;межгорода
0DC5 020F3A         1736                 ljmp    kommab              
0DC8 7C0A           1737    sr5:        mov     r4,#00ah                           ;запись 10 для отсчета отсутсвий отве
                                                                               тов                                      
                                                                                                                        
                                                                                                           ;станции
0DCA 75270A         1738                 mov     027h,#00ah                         ;запись 10 для отсчета отсутсвий при
                                                                               ема                                      
                                                                                                                        
                                                                                                             ;вызовов
0DCD 75280A         1739                 mov     028h,#00ah                         ;запись 10 для отсчета отсутсвий стг
                                                                               налов                                    
                                                                                                                        
                                                                                                            ;межгорода 
                                                                               
0DD0 020F3A         1740                ljmp    kommab
                    1741    
0DD3 D297           1742    pryg10:      setb    p1.7
0DD5 020183         1743                 ljmp    func1
0DD8 020E23         1744    raz2a:     ljmp    raz2         
0DDB 751839         1745    raz1:        mov     018h,#039h                        ;запись 9 в младшую цифру раз и декре
                                                                               мент                                     
                                                                                                                        
                                                                                          ;старшей цифры
0DDE 1517           1746                 dec     017h 
0DE0 851319         1747                 mov     019h,013h
0DE3 85141A         1748                 mov     01ah,014h
0DE6 85151B         1749                 mov     01bh,015h
                    1750    
0DE9 7822           1751                mov     r0,#022h               ;отбой абонентов
0DEB E6             1752                mov     a,@r0
0DEC B4411A         1753                cjne    a,#041h,kommut7a              ;проверка --отбой аб. А потом Б? Если нет 
                                                                               то идти на отбой аб. Б.
0DEF 758020         1754                mov     p0,#020h
0DF2 C294           1755                clr     p1.4 
0DF4 D294           1756                setb    p1.4 
0DF6 12144F         1757                lcall   sek
0DF9 12144F         1758                lcall   sek
0DFC 12144F         1759                lcall   sek
0DFF 758000         1760                mov     p0,#000h     
KVART100                                                                                                      PAGE 35

0E02 C294           1761                clr     p1.4 
0E04 D294           1762                setb    p1.4            
0E06 0208F0         1763                 ljmp    progra
0E09 758010         1764    kommut7a:    mov     p0,#010h                           ; отбой аб. Б потом А
0E0C C294           1765                clr     p1.4 
0E0E D294           1766                setb    p1.4 
0E10 12144F         1767                lcall   sek
0E13 12144F         1768                lcall   sek
0E16 12144F         1769                lcall   sek
0E19 758000         1770                mov     p0,#000h     
0E1C C294           1771                clr     p1.4 
0E1E D294           1772                setb    p1.4                
                    1773                
                    1774    
                    1775    ;             mov     p0,#000h                 ;1выкл линии аб А
                    1776    ;             mov     p1,#0a0h                 ;2
                    1777    ;             mov     p1,#0b0h                 ;3
                    1778    ;             lcall   sek
                    1779    ;             setb    p1.7
0E20 0208F0         1780                 ljmp    progra
0E23 1518           1781    raz2:        dec     018h
0E25 851319         1782                 mov     019h,013h
0E28 85141A         1783                 mov     01ah,014h
0E2B 85151B         1784                 mov     01bh,015h
0E2E 7822           1785                mov     r0,#022h               ;отбой абонентов
0E30 E6             1786                mov     a,@r0
0E31 B4411A         1787                cjne    a,#041h,kommut7b              ;проверка --отбой аб. А потом Б? Если нет 
                                                                               то идти на отбой аб. Б.
0E34 758020         1788                mov     p0,#020h
0E37 C294           1789                clr     p1.4 
0E39 D294           1790                setb    p1.4 
0E3B 12144F         1791                lcall   sek
0E3E 12144F         1792                lcall   sek
0E41 12144F         1793                lcall   sek
0E44 758000         1794                mov     p0,#000h     
0E47 C294           1795                clr     p1.4 
0E49 D294           1796                setb    p1.4            
0E4B 0208F0         1797                 ljmp    progra
0E4E 758010         1798    kommut7b:    mov     p0,#010h                           ; отбой аб. Б потом А
0E51 C294           1799                clr     p1.4 
0E53 D294           1800                setb    p1.4 
0E55 12144F         1801                lcall   sek
0E58 12144F         1802                lcall   sek
0E5B 12144F         1803                lcall   sek
0E5E 758000         1804                mov     p0,#000h     
0E61 C294           1805                clr     p1.4 
0E63 D294           1806                setb    p1.4                
                    1807                             
                    1808    ;             mov     p0,#000h                 ;1выкл линии аб А
                    1809    ;             mov     p1,#0a0h                 ;2
                    1810    ;             mov     p1,#0b0h                 ;3
                    1811    ;             lcall   sek
                    1812    ;             setb    p1.7
0E65 0208F0         1813                 ljmp    progra
                    1814                 
0E68 051F           1815    prov2:      inc     01fh
0E6A 7889           1816                mov     r0,#089h               ;запись в регистр адреса старшей цифры отсчета вр
                                                                               емени
KVART100                                                                                                      PAGE 36

0E6C 7990           1817                mov     r1,#090h               ;запись в регистр адреса старшей цифры количества
                                                                                раз
0E6E 8613           1818                mov     013h,@r0                 ;запись в о временную память цифр отсчета време
                                                                               ни
0E70 8619           1819                mov     019h,@r0
0E72 08             1820                inc     r0
0E73 8614           1821                mov     014h,@r0
0E75 861A           1822                mov     01ah,@r0
0E77 08             1823                inc     r0
0E78 8615           1824                mov     015h,@r0
0E7A 861B           1825                mov     01bh,@r0
0E7C 08             1826                inc     r0
0E7D 08             1827                inc     r0
0E7E 8616           1828                mov     016h,@r0 
0E80 861C           1829                mov     01ch,@r0 
0E82 8717           1830                mov     017h,@r1                 ;запись во временную память количества раз пров
                                                                               ерок
0E84 871D           1831                mov     01dh,@r1   
0E86 09             1832                inc     r1
0E87 8718           1833                mov     018h,@r1
0E89 871E           1834                mov     01eh,@r1             
0E8B E517           1835                mov     a,017h                   ;проверка на 0 количества раз
0E8D B43008         1836                cjne    a,#030h,prov21                 ;старшая цифра количества раз
0E90 E518           1837                mov     a,018h
0E92 B43003         1838                cjne    a,#030h,prov21                 ;младшая цифра количества раз
0E95 020E9D         1839                ljmp    prov3                    ;если количество раз при первой проверке равно 
                                                                               нулю                                     
                                                                                        ;перейти к пров 3
0E98 D297           1840    prov21:     setb    p1.7
0E9A 0208F0         1841                ljmp    progra
0E9D 051F           1842    prov3:      inc     01fh
0E9F 7892           1843                mov     r0,#092h               ;запись в регистр адреса старшей цифры отсчета вр
                                                                               емени
0EA1 7999           1844                mov     r1,#099h               ;запись в регистр адреса старшей цифры количества
                                                                                раз
0EA3 8613           1845                mov     013h,@r0                 ;запись в о временную память цифр отсчета време
                                                                               ни
0EA5 8619           1846                mov     019h,@r0
0EA7 08             1847                inc     r0
0EA8 8614           1848                mov     014h,@r0
0EAA 861A           1849                mov     01ah,@r0
0EAC 08             1850                inc     r0
0EAD 8615           1851                mov     015h,@r0
0EAF 861B           1852                mov     01bh,@r0
0EB1 08             1853                inc     r0
0EB2 08             1854                inc     r0
0EB3 8616           1855                mov     016h,@r0 
0EB5 861C           1856                mov     01ch,@r0 
0EB7 8717           1857                mov     017h,@r1                 ;запись во временную память количества раз пров
                                                                               ерок
0EB9 871D           1858                mov     01dh,@r1   
0EBB 09             1859                inc     r1
0EBC 8718           1860                mov     018h,@r1
0EBE 871E           1861                mov     01eh,@r1             
0EC0 E517           1862                mov     a,017h                   ;проверка на 0 количества раз
0EC2 B43008         1863                cjne    a,#030h,prov31                 ;старшая цифра количества раз
0EC5 E518           1864                mov     a,018h
0EC7 B43003         1865                cjne    a,#030h,prov31                 ;младшая цифра количества раз
KVART100                                                                                                      PAGE 37

0ECA 020ED0         1866                ljmp    prov4                    ;если количество раз при первой проверке равно 
                                                                               нулю                                     
                                                                                        ;перейти к пров 4
0ECD 0208F0         1867    prov31:     ljmp    progra
0ED0 051F           1868    prov4:      inc     01fh
0ED2 789B           1869                mov     r0,#09bh               ;запись в регистр адреса старшей цифры отсчета вр
                                                                               емени
0ED4 79A2           1870                mov     r1,#0a2h               ;запись в регистр адреса старшей цифры количества
                                                                                раз
0ED6 8613           1871                mov     013h,@r0                 ;запись в о временную память цифр отсчета време
                                                                               ни
0ED8 8619           1872                mov     019h,@r0
0EDA 08             1873                inc     r0
0EDB 8614           1874                mov     014h,@r0
0EDD 861A           1875                mov     01ah,@r0
0EDF 08             1876                inc     r0
0EE0 8615           1877                mov     015h,@r0
0EE2 861B           1878                mov     01bh,@r0
0EE4 08             1879                inc     r0
0EE5 08             1880                inc     r0
0EE6 8616           1881                mov     016h,@r0 
0EE8 861C           1882                mov     01ch,@r0 
0EEA 8717           1883                mov     017h,@r1                 ;запись во временную память количества раз пров
                                                                               ерок
0EEC 871D           1884                mov     01dh,@r1   
0EEE 09             1885                inc     r1
0EEF 8718           1886                mov     018h,@r1
0EF1 871E           1887                mov     01eh,@r1             
0EF3 E517           1888                mov     a,017h                   ;проверка на 0 количества раз
0EF5 B43008         1889                cjne    a,#030h,prov41                 ;старшая цифра количества раз
0EF8 E518           1890                mov     a,018h
0EFA B43003         1891                cjne    a,#030h,prov41                 ;младшая цифра количества раз
0EFD 020F05         1892                ljmp    prov5                    ;если количество раз при первой проверке равно 
                                                                               нулю                                     
                                                                                        ;перейти к пров 5
0F00 D297           1893    prov41:     setb    p1.7
0F02 0208F0         1894                ljmp    progra
0F05 051F           1895    prov5:      inc     01fh
0F07 78A4           1896                mov     r0,#0a4h               ;запись в регистр адреса старшей цифры отсчета вр
                                                                               емени
0F09 79AB           1897                mov     r1,#0abh               ;запись в регистр адреса старшей цифры количества
                                                                                раз
0F0B 8613           1898                mov     013h,@r0                   ;запись в о временную память цифр отсчета вре
                                                                               мени
0F0D 8619           1899                mov     019h,@r0
0F0F 08             1900                inc     r0
0F10 8614           1901                mov     014h,@r0
0F12 861A           1902                mov     01ah,@r0
0F14 08             1903                inc     r0
0F15 8615           1904                mov     015h,@r0
0F17 861B           1905                mov     01bh,@r0
0F19 08             1906                inc     r0
0F1A 08             1907                inc     r0
0F1B 8616           1908                mov     016h,@r0 
0F1D 861C           1909                mov     01ch,@r0 
0F1F 8717           1910                mov     017h,@r1                 ;запись во временную память количества раз пров
                                                                               ерок
0F21 871D           1911                mov     01dh,@r1   
KVART100                                                                                                      PAGE 38

0F23 09             1912                inc     r1
0F24 8718           1913                mov     018h,@r1
0F26 871E           1914                mov     01eh,@r1             
0F28 E517           1915                mov     a,017h                   ;проверка на 0 количества раз
0F2A B43008         1916                cjne    a,#030h,prov51                 ;старшая цифра количества раз
0F2D E518           1917                mov     a,018h
0F2F B43003         1918                cjne    a,#030h,prov51                 ;младшая цифра количества раз
0F32 020F3A         1919                ljmp    kommab                   ;если количество раз при проверке равно нулю пе
                                                                               рейти                                    
                                                                                         ;к проверке набора ном. АБ
0F35 D297           1920    prov51:    setb    p1.7
0F37 0208F0         1921               ljmp    progra
                    1922    
0F3A E511           1923    kommab:    mov     a,011h
0F3C B40103         1924               cjne    a,#001h,kommab1
0F3F 020F57         1925               ljmp    ab2
0F42 B40203         1926    kommab1:   cjne    a,#002h,kommab2
0F45 020F7C         1927               ljmp    ab3 
0F48 B40309         1928    kommab2:   cjne    a,#003h,kommutp
0F4B 020F54         1929               ljmp    kommutp
0F4E B40403         1930    kommab3:   cjne    a,#004h,kommutp          ;если набраны все АБоненты то перейти к проверке
                                                                                                                        
                                                                                                                   ;пере
                                                                               ключ коммутатора линий
0F51 0210DC         1931               ljmp    kommut
0F54 0210DC         1932    kommutp:   ljmp    kommut
                    1933    
0F57 7510D0         1934    ab2:       mov     010h,#0d0h              ;запись во временную память начального адреса где
                                                                                                                        
                                                                                  ;хранятся цифры набора АБ 3
0F5A 78D0           1935               mov     r0,#0d0h                  ;проверка есть ли цифры набора в памяти номера 
                                                                               АБ.3
0F5C B62011         1936               cjne    @r0,#020h,ab2a            ;если нет то уст номер пров для АБ в 1 т.е есть
                                                                                                                        
                                                                                    ;набираем номер АБ 1
0F5F 758050         1937               mov     p0,#050h                                 ;установка реле в 101  "2 на 1"
                                                                               
0F62 759090         1938               mov     p1,#090h
0F65 7590B0         1939               mov     p1,#0b0h                                
0F68 751040         1940               mov     010h,#040h              ;запись во временную память начального адреса где
                                                                                                                        
                                                                                  ;хранятся цифры набора АБ 1
0F6B 7840           1941               mov     r0,#040h   
0F6D 0208B1         1942               ljmp    nachalo                    ;и идем на набор АБ 1
0F70 758010         1943    ab2a:      mov     p0,#010h                                 ;установка реле в 001  "2 на 3"
                                                                               
0F73 759090         1944               mov     p1,#090h
0F76 7590B0         1945               mov     p1,#0b0h
0F79 0208B1         1946               ljmp    nachalo                   ;и идем на набор АБ 3
0F7C 7510D0         1947    ab3:       mov     010h,#0d0h              ;запись во временную память начального адреса где
                                                                                                                        
                                                                                  ;хранятся цифры набора АБ 3
0F7F 78D0           1948               mov     r0,#0d0h                  ;проверка есть ли цифры набора в памяти номера 
                                                                               АБ.3
0F81 B62007         1949               cjne    @r0,#020h,ab3a            ;если нет то идем на проверку АБ 4             
                                                                                        
0F84 0511           1950               inc     011h                      ; 
0F86 0511           1951               inc     011h 
KVART100                                                                                                      PAGE 39

0F88 020F3A         1952               ljmp    kommab                    ;и идем на коммутатор абонентов
0F8B 758060         1953    ab3a:      mov     p0,#060h                                 ;установка реле в 110  "3 на 1"
                                                                               
0F8E 759090         1954               mov     p1,#090h
0F91 7590B0         1955               mov     p1,#0b0h
0F94 751040         1956               mov     010h,#040h              ;запись во временную память начального адреса где
                                                                                                                        
                                                                                                                  ;храня
                                                                               тся цифры набора АБ 1
0F97 7840           1957               mov     r0,#040h              
                    1958    
0F99 D297           1959               setb    p1.7
0F9B 0208B1         1960               ljmp    nachalo 
                    1961    
                    1962    
0F9E 0208B1         1963              ljmp    nachalo
0FA1 751040         1964    ab4:       mov     010h,#040h              ;запись во временную память начального адреса где
                                                                                                                        
                                                                                                                  ;храня
                                                                               тся цифры набора АБ Г
0FA4 7840           1965               mov     r0,#040h                  ;проверка есть ли цифры набора в памяти номера 
                                                                               АБ.Г
0FA6 B62005         1966               cjne    @r0,#020h,ab4a            ;если нет то уст номер пров для АБ в 1 т.е есть
                                                                                                                        
                                                                                                                    ;наб
                                                                               ираем номер АБ.Д
0FA9 0511           1967               inc     011h                      ; 
0FAB 020F3A         1968               ljmp    kommab                    ;и идем на коммутатор абонентов
0FAE 0208B1         1969    ab4a:      ljmp    nachalo
                    1970    
0FB1 7510E8         1971    ab5:       mov     010h,#0e8h              ;запись во временную память начального адреса где
                                                                                                                        
                                                                                                                        
                                                                                                ;хранятся цифры набора А
                                                                               Б 4
0FB4 78E8           1972               mov     r0,#0e8h                  ;проверка есть ли цифры набора в памяти номера 
                                                                               АБ.4
0FB6 B62005         1973               cjne    @r0,#020h,ab5a            ;
0FB9 0511           1974               inc     011h                      ; 
0FBB 020F3A         1975               ljmp    kommab                    ;и идем на коммутатор абонентов
0FBE 758000         1976    ab5a:       mov     p0,#000h             ;сброс всех сигналов управлен 
0FC1 C295           1977                clr     p1.5
0FC3 D295           1978                setb    p1.5                      ;запись в рег. упр. по новому
                    1979    
                    1980    ;            mov     p1,#0a0h             ;1 запись в регистр упр 
                    1981    ;            mov     p1,#0b0h             ;2
                    1982    ;            mov     p0,#000h                                 ;установка реле в 000  "4 на 1
                                                                               "
                    1983    ;            mov     p1,#0a0h
                    1984    ;            mov     p1,#0b0h
0FC5 758001         1985                mov     p0,#01h               
0FC8 121639         1986                lcall   disp_wcomm
0FCB 758010         1987                mov     p0,#010h                ; вкл линию аб Д 
0FCE C294           1988                clr     p1.4
0FD0 D294           1989                setb    p1.4                      ;запись в рег. упр. по новому
                    1990    ;            mov     p1,#0a0h                ;1 запись в регистр упр 
                    1991    ;            mov     p1,#0b0h                ;2
0FD2 7F80           1992                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
KVART100                                                                                                      PAGE 40

0FD4 90173A         1993                mov     dptr,#ozid            
0FD7 8F80           1994    sosozid:    mov     p0,r7
0FD9 121639         1995                lcall   disp_wcomm
0FDC 7400           1996                mov     a,#00h
0FDE 93             1997                movc    a,@a+dptr
0FDF F580           1998                mov     p0,a
0FE1 121646         1999                lcall   disp_wdata
0FE4 A3             2000                inc     dptr
0FE5 0F             2001                inc     r7
0FE6 7400           2002                mov     a,#00h
0FE8 93             2003                movc    a,@a+dptr
0FE9 B4FFEB         2004                cjne    a,#0ffh,sosozid
0FEC 7FC0           2005                mov     r7,#0c0h           ;  вывод текста Ответ ст на второй строке
0FEE 9016A0         2006                mov     dptr,#totvet            
0FF1 8F80           2007    sosozida:   mov     p0,r7
0FF3 121639         2008                lcall   disp_wcomm
0FF6 7400           2009                mov     a,#00h
0FF8 93             2010                movc    a,@a+dptr
0FF9 F580           2011                mov     p0,a
0FFB 121646         2012                lcall   disp_wdata
0FFE A3             2013                inc     dptr
0FFF 0F             2014                inc     r7
1000 7400           2015                mov     a,#00h
1002 93             2016                movc    a,@a+dptr
1003 B4FFEB         2017                cjne    a,#0ffh,sosozida
1006 30A71B         2018                jnb     p2.7,sosnab              ; проверка наличия отв ст(0) если нет (1) то   
                                                                                                                        
                                                                                                                    ;ожи
                                                                               дание если есть то набор
1009 30A415         2019                jnb     p2.4,stop1                          ; проверка нажатия клавиш для ОТКАЗ 
                                                                               от проверки, клавиша "OK"
100C 12144F         2020                lcall   sek                          ;ожидание ответа ст в течение 3 сек
100F 30A40F         2021                jnb     p2.4,stop1                          ; проверка нажатия клавиш для ОТКАЗ 
                                                                               от проверки, клавиша "OK"
1012 12144F         2022                lcall   sek                          ;
1015 12144F         2023                lcall   sek                          ;
1018 30A709         2024                jnb     p2.7,sosnab              ; проверка наличия отв ст(0) если нет (1) то по
                                                                                новой если есть то набор  
101B 30A403         2025                jnb     p2.4,stop1                          ; проверка нажатия клавиш для ОТКАЗ 
                                                                               от проверки, клавиша "OK" 
101E 020FBE         2026                ljmp     ab5a
1021 020183         2027    stop1:      ljmp    func1
1024 A810           2028    sosnab:     mov     r0,010h           ;набор номера----установка адреса памяти номера аб Д и
                                                                               з 
                    2029                                           ;временной памяти
1026 79C2           2030                mov     r1,#0c2h                   ;1предустановка байта @0c2 (T/P) в P
1028 771F           2031                mov     @r1,#01fh                  ;2
102A 7C80           2032                mov     r4,#080h                              ;адрес вывода набираемой цифры на 
                                                                               экран
102C 758001         2033                mov     p0,#001h          
102F 121639         2034                lcall   disp_wcomm
1032 E6             2035    sosnom0:    mov     a,@r0              ;чтение первой цифры набора номера
1033 B45709         2036                cjne    a,#057h,sosnom1
1036 12144F         2037                lcall   sek
1039 12144F         2038                lcall   sek 
103C 021064         2039                ljmp    sosnom21
103F B45405         2040    sosnom1:    cjne    a,#054h,sosnom2            
1042 770F           2041                mov     @r1,#00fh
KVART100                                                                                                      PAGE 41

1044 021064         2042                ljmp    sosnom21 
1047 B45005         2043    sosnom2:    cjne    a,#050h,sosnom6
104A 771F           2044                mov     @r1,#01fh
104C 021064         2045                ljmp    sosnom21
104F B4380C         2046    sosnom6:    cjne    a,#038h,sosnom3                  ;проверка на межгород ( 8 )
1052 BC8003         2047                cjne    r4,#080h,sos                     ;межгор первая цифра номера?если да то 
                                                                                                                        
                                                                                           ;проверка готовности ответа с
                                                                               т
1055 0210BE         2048                ljmp    sosgor   
1058 BC8103         2049    sos:        cjne    r4,#081h,sosnom3                 ;межгор вторая цифра номера?если да то 
                                                                                
105B 0210BE         2050                ljmp    sosgor                           ;проверка готовности ответа ст
105E B42007         2051    sosnom3:    cjne    a,#020h,sosnom4
1061 02107B         2052                ljmp    sosnom5
1064 08             2053    sosnom21:   inc     r0
1065 021032         2054                ljmp    sosnom0
1068                2055    sosnom4: 
1068 1211BE         2056                lcall   ind                 ;вывод набираемой цифры на экран
106B 57             2057                anl     a,@r1          
106C D297           2058                setb    p1.7 
106E F580           2059                mov     p0,a
1070 D293           2060                setb    p1.3
1072 C293           2061                clr     p1.3 
                    2062    ;            mov     p1,#030h                   ;1 запись цифры в номеронабиратель
                    2063    ;            mov     p1,#038h                   ;2 
                    2064    ;            mov     p1,#030h                   ;3
1074 30A5FD         2065    sosnom41:   jnb     p2.5,sosnom41              ;ожидание готовности номеронабирателя
1077 08             2066                inc     r0
1078 021032         2067                ljmp    sosnom0
107B 7C10           2068    sosnom5:     mov     r4,#010h           ;уст. множителя для повторения писков в течение 32 с
                                                                               ек
107D 7580CB         2069    sosnom51:    mov     p0,#0cbh                        ;вывод крякозябрика  ^             
1080 121639         2070                 lcall   disp_wcomm
1083 7580D9         2071                 mov     p0,#0d9h                        ;вывод крякозябрика  ^             
1086 121646         2072                 lcall   disp_wdata
1089 30A429         2073                 jnb     p2.4,sosnom7
108C D297           2074                 setb    p1.7 
108E 758001         2075                 mov     p0,#001h                  ;
1091 D293           2076                 setb    p1.3
1093 C293           2077                 clr     p1.3 
                    2078    ;             mov     p1,#030h                  ;1 запись тональной цифры 1 в номеронабирате
                                                                               ль
                    2079    ;             mov     p1,#038h                  ;2 
                    2080    ;             mov     p1,#030h                  ;3
1095 12144F         2081                 lcall   sek
1098 7580CB         2082                 mov     p0,#0cbh                        ;вывод крякозябрика  ^             
109B 121639         2083                 lcall   disp_wcomm
109E 7580DA         2084                 mov     p0,#0dah                        ;вывод крякозябрика  ^             
10A1 121646         2085                 lcall   disp_wdata
10A4 12144F         2086                 lcall   sek
10A7 30A40B         2087                 jnb     p2.4,sosnom7
10AA DCD1           2088                 djnz    r4,sosnom51
10AC 758000         2089                 mov     p0,#000h             ;сброс всех сигналов управлен 
10AF 7590A0         2090                 mov     p1,#0a0h             ;1 запись в регистр упр 
10B2 7590B0         2091                 mov     p1,#0b0h             ;2
10B5 758001         2092    sosnom7:     mov     p0,#01h               
10B8 121639         2093                 lcall   disp_wcomm
KVART100                                                                                                      PAGE 42

10BB 020183         2094                 ljmp    func1
                    2095    
10BE 1211BE         2096    sosgor:     lcall   ind
10C1 57             2097                anl     a,@r1         
10C2 D297           2098                setb    p1.7
10C4 F580           2099                mov     p0,a
10C6 D293           2100                setb    p1.3
10C8 C293           2101                clr     p1.3 
                    2102    ;            mov     p1,#030h                ;1 запись цифры в номеронабиратель
                    2103    ;            mov     p1,#038h                ;2 
                    2104    ;            mov     p1,#030h                ;3
10CA 30A5FD         2105    sosmez:     jnb     p2.5,sosmez 
10CD 12144F         2106                lcall   sek                           ;ожидание ответа межгорода в теч 4 сек
10D0 12144F         2107                lcall   sek                           ;
10D3 12144F         2108                lcall   sek                           ;
10D6 12144F         2109                lcall   sek                           ;
10D9 021064         2110                ljmp    sosnom21
                    2111    
                    2112    
                    2113    
                    2114    
                    2115    
                    2116    
                    2117    
                    2118    
                    2119    
                    2120    
                    2121    
                    2122    
                    2123    
                    2124    
                    2125    
                    2126    
10DC 78C0           2127    kommut:     mov     r0,#0c0h               ;переключение АБ.Д))АБ.А
10DE E6             2128                mov     a,@r0
10DF B45916         2129                cjne    a,#059h,kommut1              ;проверка --надо ли переключать
10E2 750940         2130                mov     009h,#040h                          ;ячейку памяти коммутатора в коммута
                                                                               цию
                    2131    ;            mov     a,#04eh                      ;если надо то сбросить байт переключения в
                                                                                N
                    2132    ;            mov     @r0,a    
10E5 758000         2133                mov     p0,#000h                   ;запись в порт упр комманды перекл коммутатор
                                                                               а
10E8 C295           2134                clr     p1.5
10EA D295           2135                setb    p1.5 
                    2136    ;            mov     p1,#0a0h
                    2137    ;            mov     p1,#0b0h
10EC 12144F         2138                lcall   sek
10EF 7510D8         2139                mov     010h,#0d8h                  ;установить адрес хранения номера набора АБ.
                                                                               Д
10F2 751103         2140                mov     011h,#003h                    ;установить точку проверки для подпрогр ko
                                                                               mmab
                    2141    
10F5 020FB1         2142                ljmp    ab5
10F8                2143    kommut1:
                    2144    ;           mov     p0,#000h                   ;запись в порт упр сброс всех сигналов
                    2145    ;            clr     p1.5 
                    2146    ;            setb    p1.5
KVART100                                                                                                      PAGE 43

                    2147    ;            mov     p1,#0a0h
                    2148    ;            mov     p1,#0b0h
10F8 750900         2149                mov     009h,#000h
10FB 7822           2150                mov     r0,#022h               ;отбой абонентов
10FD E6             2151                mov     a,@r0
10FE B4411A         2152                cjne    a,#041h,kommut7              ;проверка --отбой аб. А потом Б? Если нет т
                                                                               о идти на отбой аб. Б.
1101 758020         2153                mov     p0,#020h
1104 C294           2154                clr     p1.4 
1106 D294           2155                setb    p1.4 
1108 12144F         2156                lcall   sek
110B 12144F         2157                lcall   sek
110E 12144F         2158                lcall   sek
1111 758000         2159                mov     p0,#000h     
1114 C294           2160                clr     p1.4 
1116 D294           2161                setb    p1.4            
1118 021132         2162                ljmp    kommut8
111B 758010         2163    kommut7:    mov     p0,#010h                           ; отбой аб. Б потом А
111E C294           2164                clr     p1.4 
1120 D294           2165                setb    p1.4 
1122 12144F         2166                lcall   sek
1125 12144F         2167                lcall   sek
1128 12144F         2168                lcall   sek
112B 758000         2169                mov     p0,#000h     
112E C294           2170                clr     p1.4 
1130 D294           2171                setb    p1.4                
                    2172                
1132 758001         2173    kommut8:  mov     p0,#01h               
1135 121639         2174                lcall   disp_wcomm
1138 7F80           2175                mov     r7,#80h            ;  вывод текста ПРОГРАММА на первой строке 
113A 901765         2176                mov     dptr,#tvse            
113D 8F80           2177    vse:      mov     p0,r7
113F 121639         2178                lcall   disp_wcomm
1142 7400           2179                mov     a,#00h
1144 93             2180                movc    a,@a+dptr
1145 F580           2181                mov     p0,a
1147 121646         2182                lcall   disp_wdata
114A A3             2183                inc     dptr
114B 0F             2184                inc     r7
114C 7400           2185                mov     a,#00h
114E 93             2186                movc    a,@a+dptr
114F B4FFEB         2187                cjne    a,#0ffh,vse
1152 7FC0           2188                mov     r7,#0c0h           ;  вывод текста ЗАВЕРШЕНА на второй строке
1154 90176F         2189                mov     dptr,#tvse1           
1157 8F80           2190    vse1:    mov     p0,r7
1159 121639         2191                lcall   disp_wcomm
115C 7400           2192                mov     a,#00h
115E 93             2193                movc    a,@a+dptr
115F F580           2194                mov     p0,a
1161 121646         2195                lcall   disp_wdata
1164 A3             2196                inc     dptr
1165 0F             2197                inc     r7
1166 7400           2198                mov     a,#00h
1168 93             2199                movc    a,@a+dptr
1169 B4FFEB         2200                cjne    a,#0ffh,vse1
116C 30A4FD         2201    vsek:      jnb     p2.4,vsek            ; ожидание нажатия клавиши ОК
116F 30A403         2202    vsek1:    jnb     p2.4,vsek2
1172 02116F         2203                 ljmp    vsek1
KVART100                                                                                                      PAGE 44

                    2204    
1175 020836         2205    vsek2:    ljmp    funcr11
                    2206        
1178                2207    hy:
                    2208    ;            mov     p0,#080h          ;выкл лин.аб А и вкл ГЕН-все это индик. нарушения лин
                                                                               ии!!!!
                    2209    ;            mov     p1,#0a0h             ;1 запись в регистр упр 
                    2210    ;            mov     p1,#0b0h             ;2
                    2211    ;            jnb     p2.4,hy1
                    2212    ;            lcall   sek
                    2213    ;            mov     p0,#000h          ; выкл линию аб А и выкл ГЕН
                    2214    ;            mov     p1,#0a0h             ;1 запись в регистр упр 
                    2215    ;            mov     p1,#0b0h             ;2
                    2216    ;            mov     p0,#080h          ; выкл линию аб А и вкл ГЕН
                    2217    ;            mov     p1,#0a0h             ;1 запись в регистр упр 
                    2218    ;            mov     p1,#0b0h             ;2
                    2219    ;            jnb     p2.4,hy1
                    2220    ;            lcall   sek
                    2221    ;            mov     p0,#000h          ; выкл линию аб А и выкл ГЕН
                    2222    ;            mov     p1,#0a0h             ;1 запись в регистр упр 
                    2223    ;            mov     p1,#0b0h             ;2
1178 12144F         2224                 lcall   sek
117B 30A40D         2225                 jnb     p2.4,hy1
117E 7880           2226                  mov     r0,#080h               ;запись в регистр адреса старшей цифры отсчета 
                                                                               времени       
1180 8619           2227                  mov     019h,@r0                 ;запись в о временную память цифр отсчета вре
                                                                               мени
1182 08             2228                  inc     r0              
1183 861A           2229                  mov     01ah,@r0
1185 08             2230                  inc     r0
1186 861B           2231                  mov     01bh,@r0
                    2232    ;             ljmp     ab5 
1188 0208F0         2233                 ljmp     progra
118B 020183         2234    hy1:         ljmp     func1                ; (ab5)
                    2235    
118E 7880           2236    prob:        mov     r0,#080h         ;занесение в память значений первого времени  
1190 7430           2237                 mov     a,#030h          ;10.0 cek и раз 01 пробы
1192 F6             2238                 mov     @r0,a                           ;в остальные разы измерений 00 раз
1193 08             2239                 inc     r0
1194 7431           2240                 mov     a,#031h
1196 F6             2241                 mov     @r0,a
1197 08             2242                 inc     r0
1198 7430           2243                 mov     a,#030h         
119A F6             2244                 mov     @r0,a
119B 08             2245                 inc     r0
119C 08             2246                 inc     r0
119D F6             2247                 mov     @r0,a
119E 7887           2248                 mov     r0,#087h
11A0 F6             2249                 mov     @r0,a
11A1 08             2250                 inc     r0
11A2 7431           2251                 mov     a,#031h
11A4 F6             2252                 mov     @r0,a
11A5 7430           2253                 mov     a,#030h 
11A7 7890           2254                 mov     r0,#090h
11A9 F6             2255                 mov     @r0,a
11AA 08             2256                 inc     r0
11AB F6             2257                 mov     @r0,a 
11AC 7899           2258                 mov     r0,#099h
KVART100                                                                                                      PAGE 45

11AE F6             2259                 mov     @r0,a
11AF 08             2260                 inc     r0
11B0 F6             2261                 mov     @r0,a
11B1 78A2           2262                 mov     r0,#0a2h
11B3 F6             2263                 mov     @r0,a
11B4 08             2264                 inc     r0
11B5 F6             2265                 mov     @r0,a
11B6 78AB           2266                 mov     r0,#0abh
11B8 F6             2267                 mov     @r0,a
11B9 08             2268                 inc     r0
11BA F6             2269                 mov     @r0,a
                    2270    
                    2271               
11BB 020872         2272                ljmp     otschet
                    2273    
                    2274    
                    2275    
                    2276    
                    2277    
                    2278    
                    2279    
                    2280    
                    2281    
                    2282    ;SUBROUTINES            
11BE                2283    ind:                                     ;подпр.выв.набираемых номеронабирателем цифр на экр
                                                                               ан
11BE 8C80           2284                 mov     p0,r4            
11C0 121639         2285                 lcall   disp_wcomm
11C3 F580           2286                 mov     p0,a
11C5 121646         2287                 lcall   disp_wdata
11C8 0C             2288                 inc     r4
11C9 BC8C07         2289                 cjne    r4,#08ch,ind1
11CC 7CC0           2290                 mov     r4,#0c0h
11CE 8C80           2291                 mov     p0,r4
11D0 121639         2292                 lcall   disp_wcomm
11D3 22             2293    ind1:        ret            
                    2294                 
                    2295    
                    2296    
                    2297    
                    2298    
                    2299    
                    2300    
                    2301    
                    2302    
                    2303    
11D4 7D80           2304    vyv3:        mov     r5,#080h         ;  установка указателя addr disp регистр R5           
                                                                               
11D6 8D80           2305    vyv1:        mov     p0,r5            ;        R5- аддр на дисплее
11D8 121639         2306                 lcall   disp_wcomm       ;        R0- указатель памяти номера вывода на DISP   
                                                                                    
11DB 8680           2307                 mov     p0,@r0           ;        R1- адрес памяти номера
11DD 121646         2308                 lcall   disp_wdata       ;        К3- адрес курсора
11E0 0D             2309                 inc     r5               ;
11E1 08             2310                 inc     r0               ;
11E2 BD8CF1         2311                 cjne    r5,#08ch,vyv1    ;
11E5 7DC0           2312                 mov     r5,#0c0h
11E7 8D80           2313    vyv2:        mov     p0,r5
KVART100                                                                                                      PAGE 46

11E9 121639         2314                 lcall   disp_wcomm
11EC 8680           2315                 mov     p0,@r0
11EE 121646         2316                 lcall   disp_wdata
11F1 0D             2317                 inc     r5   
11F2 08             2318                 inc     r0
11F3 BDCCF1         2319                 cjne    r5,#0cch,vyv2
11F6 7D80           2320                 mov     r5,#080h
11F8 75800E         2321                 mov     p0,#00eh           ;установка курсора в начало после вывода памяти номе
                                                                               ра
11FB 121639         2322                 lcall   disp_wcomm
11FE 758002         2323                 mov     p0,#002h          ;включить disp и курсор
1201 121639         2324                 lcall   disp_wcomm
1204 9016EB         2325                 mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
1207 7B00           2326                 mov     r3,#000h        ;установка адреса курсора
                    2327    
                    2328    
                    2329    
                    2330    
                    2331    
                    2332    
                    2333    
1209 30A0FD         2334    kfa0:        jnb     p2.0,kfa0
120C 30A1FA         2335                 jnb     p2.1,kfa0
120F 30A2F7         2336                 jnb     p2.2,kfa0
1212 30A4F4         2337                 jnb     p2.4,kfa0
1215 30A032         2338    kfa01:       jnb     p2.0,nazad
1218 30A168         2339                 jnb     p2.1,vpered
121B 30A207         2340                 jnb     p2.2,vvod
121E 30A403         2341                 jnb     p2.4,funcab
1221 021215         2342                 ljmp    kfa01
1224 22             2343    funcab:      ret
1225 7400           2344    vvod:       mov     a,#00h             ;вывод цифр набора номера  
1227 93             2345                movc    a,@a+dptr
1228 B4FF06         2346                cjne    a,#0ffh,vvod1
122B 9016EB         2347                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
122E 021225         2348                ljmp    vvod
1231 F7             2349    vvod1:      mov     @r1,a
1232 8D80           2350                mov     p0,r5
1234 121639         2351                lcall   disp_wcomm
1237 F580           2352                mov     p0,a 
1239 121646         2353                lcall   disp_wdata
123C 758010         2354                mov     p0,#010h          ;курсор назад после вывода цифры
123F 121639         2355                lcall   disp_wcomm
1242 A3             2356                inc     dptr
1243 0B             2357                inc     r3
1244 121468         2358                lcall   sek0
1247 021209         2359                ljmp    kfa0
124A BDC011         2360    nazad:      cjne    r5,#0c0h,nazad1
124D 75808B         2361    nazad0:     mov     p0,#08bh
1250 121639         2362                lcall   disp_wcomm
1253 7D8B           2363                mov     r5,#08bh
1255 121468         2364    nazad01:    lcall   sek0
1258 9016EB         2365                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
125B 021209         2366                ljmp    kfa0            
125E 400C           2367    nazad1:     jc      nazad2
1260 BDCD09         2368                cjne    r5,#0cdh,nazad2
1263 121468         2369    nazad11:    lcall   sek0
1266 9016EB         2370                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
KVART100                                                                                                      PAGE 47

1269 021209         2371                ljmp    kfa0                     
126C BD8003         2372    nazad2:     cjne    r5,#080h,nazad21
126F 02127A         2373                ljmp    nazad22
1272 758010         2374    nazad21:    mov     p0,#010h
1275 121639         2375                lcall   disp_wcomm
1278 1D             2376                dec     r5
1279 19             2377                dec     r1
127A                2378    nazad22:    
127A 121468         2379                lcall   sek0
127D 9016EB         2380                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
1280 021209         2381                ljmp    kfa0
1283 BD8B12         2382    vpered:     cjne    r5,#08bh,vpered1
1286 7580C0         2383    vpered0:    mov     p0,#0c0h
1289 121639         2384                lcall   disp_wcomm
128C 7DC0           2385                mov     r5,#0c0h
128E 09             2386    vpered01:   inc     r1 
128F 121468         2387                lcall   sek0
1292 9016EB         2388                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
1295 021209         2389                ljmp    kfa0            
1298 400C           2390    vpered1:    jc      vpered2
129A BDCB09         2391                cjne    r5,#0cbh,vpered2
129D                2392    vpered11:   
129D 121468         2393                lcall   sek0
12A0 9016EB         2394                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
12A3 021209         2395                ljmp    kfa0                     
12A6 758014         2396    vpered2:    mov     p0,#014h
12A9 121639         2397                lcall   disp_wcomm
12AC 0D             2398                inc     r5
12AD 09             2399                inc     r1 
12AE                2400    vpered21:  
12AE 121468         2401                lcall   sek0
12B1 9016EB         2402                mov     dptr,#tcifr        ;установка указателя адреса памяти цифр
12B4 021209         2403                ljmp    kfa0            
                    2404    
12B7 7D80           2405    data11:      mov     r5,#080h         ;  установка указателя addr disp регистр R5           
                                                                               
12B9 8D80           2406    data1:       mov     p0,r5            
12BB 121639         2407                 lcall   disp_wcomm
12BE 8680           2408                 mov     p0,@r0
12C0 121646         2409                 lcall   disp_wdata
12C3 0D             2410                 inc     r5
12C4 08             2411                 inc     r0
12C5 BD89F1         2412                 cjne    r5,#089h,data1
12C8 90172B         2413                 mov     dptr,#traz
12CB 8D80           2414    data2:       mov     p0,r5
12CD 121639         2415                 lcall   disp_wcomm
12D0 7400           2416                 mov     a,#00h
12D2 93             2417                 movc    a,@a+dptr
12D3 F580           2418                 mov     p0,a
12D5 121646         2419                 lcall   disp_wdata
12D8 A3             2420                 inc     dptr
12D9 0D             2421                 inc     r5
12DA 7400           2422                 mov     a,#00h
12DC 93             2423                 movc    a,@a+dptr
12DD B4FFEB         2424                 cjne    a,#0ffh,data2
12E0 75800E         2425                 mov     p0,#00eh            ;установка курсора в начало после вывода памяти 
12E3 121639         2426                 lcall   disp_wcomm
12E6 758002         2427                 mov     p0,#002h            ;включить disp и курсор
KVART100                                                                                                      PAGE 48

12E9 121639         2428                 lcall   disp_wcomm
12EC 90172F         2429                 mov     dptr,#tcifr1        ;установка указателя адреса памяти цифр
12EF 7D80           2430                 mov     r5,#080h            ;установка адреса курсора
                    2431                
12F1                2432    kfa310:  ;    mov     r6,#080h           ;  цикл ожидания отжатия клавиш
12F1                2433    waitkfa310:         
12F1 30A0FD         2434                 jnb     p2.0,kfa310
12F4 30A1FA         2435                 jnb     p2.1,kfa310
12F7 30A2F7         2436                 jnb     p2.2,kfa310
12FA 30A4F4         2437                 jnb     p2.4,kfa310
12FD DEF2           2438                 djnz    r6,waitkfa310
12FF                2439    kfa311:   ;   mov     r6,#030h        ; цикл ожидания нажатия клавиш
12FF                2440    waitkfa311:         
12FF 30A045         2441                 jnb     p2.0,nazad3
1302 30A15F         2442                 jnb     p2.1,vpered3
1305 30A209         2443                 jnb     p2.2,vvod3
1308 30A405         2444                 jnb     p2.4,funcab3
130B DEF2           2445                 djnz    r6,waitkfa311
130D 0212FF         2446                 ljmp    kfa311
1310 22             2447    funcab3:     ret
1311 BD8303         2448    vvod3:       cjne    r5,#083h,vvod330
1314 021341         2449                 ljmp    vvod32
1317 BD8503         2450    vvod330:     cjne    r5,#085h,vvod340
131A 021341         2451                 ljmp    vvod32
131D BD8603         2452    vvod340:     cjne    r5,#086h,vvod310
1320 021341         2453                 ljmp    vvod32
1323 7400           2454    vvod310:     mov     a,#00h             ;вывод цифр набора номера  
1325 93             2455                 movc    a,@a+dptr
1326 B4FF06         2456                 cjne    a,#0ffh,vvod31
1329 90172F         2457                 mov     dptr,#tcifr1 
                    2458    ;vvod30:     jnb     p2.2,vvod30
132C 021323         2459                 ljmp    vvod310
132F F7             2460    vvod31:      mov     @r1,a
1330 8D80           2461                 mov     p0,r5
1332 121639         2462                 lcall   disp_wcomm
1335 F580           2463                 mov     p0,a 
1337 121646         2464                 lcall   disp_wdata
133A 758010         2465                 mov     p0,#010h          ;курсор назад после вывода цифры
133D 121639         2466                 lcall   disp_wcomm
1340 A3             2467                 inc     dptr          
1341 30A2FD         2468    vvod32:      jnb     p2.2,vvod32
1344 0212F1         2469                 ljmp    kfa310
1347 BD8009         2470    nazad3:      cjne    r5,#080h,nazad321
134A 30A0FD         2471    nazad301:    jnb     p2.0,nazad301
134D 90172F         2472                 mov     dptr,#tcifr1
1350 0212F1         2473                 ljmp    kfa310            
1353 758010         2474    nazad321:    mov     p0,#010h
1356 121639         2475                 lcall   disp_wcomm
1359 1D             2476                 dec     r5
135A 19             2477                 dec     r1  
135B 30A0FD         2478    nazad311:    jnb     p2.0,nazad311
135E 90172F         2479                 mov     dptr,#tcifr1
1361 0212F1         2480                 ljmp    kfa310                     
1364 BD8809         2481    vpered3:     cjne    r5,#088h,vpered311 
1367 30A1FD         2482    vpered301:   jnb     p2.1,vpered301
136A 90172F         2483                 mov     dptr,#tcifr1
136D 0212F1         2484                 ljmp    kfa310            
1370 758014         2485    vpered311:   mov     p0,#014h
KVART100                                                                                                      PAGE 49

1373 121639         2486                 lcall   disp_wcomm             
1376 0D             2487                 inc     r5    
1377 09             2488                 inc     r1
1378 30A1FD         2489    vpered331:   jnb     p2.1,vpered331
137B 90172F         2490                 mov     dptr,#tcifr1
137E 0212F1         2491                 ljmp    kfa310
                    2492    
                    2493    ;подпрограмма "ввода ХХ сек"
1381 75800E         2494    func52:      mov     p0,#00eh        ; разрешаем  курсор и дисплей 
1384 121639         2495                 lcall   disp_wcomm
1387 7FC0           2496                 mov     r7,#0c0h
1389 8F80           2497                 mov     p0,r7
138B 121639         2498                 lcall   disp_wcomm             
138E 8680           2499                 mov     p0,@r0
1390 121646         2500                 lcall   disp_wdata
1393 0F             2501                 inc     r7
1394 8F80           2502                 mov     p0,r7
1396 121639         2503                 lcall   disp_wcomm            
1399 8780           2504                 mov     p0,@r1
139B 121646         2505                 lcall   disp_wdata
139E 0F             2506                 inc     r7
139F 901684         2507                 mov     dptr,#tsek        ; вывод сек    
13A2 8F80           2508    func500:     mov     p0,r7
13A4 121639         2509                 lcall   disp_wcomm
13A7 7400           2510                 mov     a,#00h
13A9 93             2511                 movc    a,@a+dptr
13AA F580           2512                 mov     p0,a
13AC 121646         2513                 lcall   disp_wdata
13AF A3             2514                 inc     dptr
13B0 0F             2515                 inc     r7
13B1 7400           2516                 mov     a,#00h
13B3 93             2517                 movc    a,@a+dptr
13B4 B4FFEB         2518                 cjne    a,#0ffh,func500
13B7 75800E         2519                 mov     p0,#00eh
13BA 121639         2520                 lcall   disp_wcomm
13BD 7580C0         2521                 mov     p0,#0c0h
13C0 121639         2522                 lcall   disp_wcomm
                    2523    
13C3 7DC0           2524                 mov     r5,#0c0h        ; адрес вывода на DISP цифр
13C5 90172F         2525                 mov     dptr,#tcifr1 
13C8 7E80           2526    kfa52:       mov     r6,#080h        ;  цикл ожидания отжатия клавиш
13CA DEFE           2527    waitkfa52:   djnz    r6,waitkfa52           
13CC 30A0F9         2528                 jnb     p2.0,kfa52
13CF 30A1F6         2529                 jnb     p2.1,kfa52
13D2 30A2F3         2530                 jnb     p2.2,kfa52
13D5 30A4F0         2531                 jnb     p2.4,kfa52
13D8 7E80           2532    kfa53:       mov     r6,#080h        ; цикл ожидания нажатия клавиш
13DA DEFE           2533    waitkfa530:  djnz    r6,waitkfa530          
13DC 30A028         2534                 jnb     p2.0,f5naz
13DF 30A109         2535                 jnb     p2.1,f5vper
13E2 30A23E         2536                 jnb     p2.2,f5cifr
13E5 30A466         2537                 jnb     p2.4,f5vv
13E8 0213D8         2538                 ljmp    kfa53   
13EB BDC109         2539    f5vper:      cjne    r5,#0c1h,f5vper11 
13EE 30A1FD         2540    f5vper1:     jnb     p2.1,f5vper1
13F1 90172F         2541                 mov     dptr,#tcifr1
13F4 0213C8         2542                 ljmp    kfa52            
13F7 758014         2543    f5vper11:    mov     p0,#014h
KVART100                                                                                                      PAGE 50

13FA 121639         2544                 lcall   disp_wcomm             
13FD 0D             2545                 inc     r5
13FE 30A1FD         2546    f5vper31:    jnb     p2.1,f5vper31
1401 90172F         2547                 mov     dptr,#tcifr1
1404 0213C8         2548                 ljmp    kfa52
1407 BDC009         2549    f5naz:       cjne    r5,#0c0h,f5naz321
140A 30A0FD         2550    f5naz301:    jnb     p2.0,f5naz301
140D 90172F         2551                 mov     dptr,#tcifr1
1410 0213C8         2552                 ljmp    kfa52            
1413 758010         2553    f5naz321:    mov     p0,#010h
1416 121639         2554                 lcall   disp_wcomm
1419 1D             2555                 dec     r5             
141A 30A0FD         2556    f5naz311:    jnb     p2.0,f5naz311
141D 90172F         2557                 mov     dptr,#tcifr1
1420 0213C8         2558                 ljmp    kfa52    
1423 7400           2559    f5cifr:      mov     a,#00h             ;вывод цифр набора номера  
1425 93             2560                 movc    a,@a+dptr
1426 B4FF06         2561                 cjne    a,#0ffh,f5vvod31
1429 90172F         2562                 mov     dptr,#tcifr1 
142C 021423         2563                 ljmp    f5cifr
142F BDC118         2564    f5vvod31:    cjne    r5,#0c1h,f5vvod5
1432 F7             2565                 mov     @r1,a
1433 8D80           2566    f5vvod51:    mov     p0,r5
1435 121639         2567                 lcall   disp_wcomm
1438 F580           2568                 mov     p0,a 
143A 121646         2569                 lcall   disp_wdata
143D 758010         2570                 mov     p0,#010h          ;курсор назад после вывода цифры
1440 121639         2571                 lcall   disp_wcomm
1443 A3             2572                 inc     dptr
1444 30A2FD         2573    f5vvod32:    jnb     p2.2,f5vvod32
1447 0213C8         2574                 ljmp    kfa52
144A F6             2575    f5vvod5:     mov     @r0,a
144B 021433         2576                 ljmp    f5vvod51
144E 22             2577    f5vv:        ret
                    2578    
                    2579    
                    2580    ;подпрограмма формирования 1 сек
144F 758901         2581    sek:         mov     tmod,#001h
                    2582    ;             clr     rs0
                    2583    ;             clr     rs1
1452 7A14           2584                 mov     r2,#014h                   ; или МОЖЕТ БЫТЬ 20 ?????????????          
                                                                               
1454 758C3C         2585    sekloop:     mov     th0,#03ch
1457 758AB0         2586                 mov     tl0,#0b0h
145A D28C           2587                 setb    tr0
145C 308DFD         2588    seklowai:    jnb     tf0,seklowai            
145F C28C           2589                 clr     tr0
1461 C28D           2590                 clr     tf0 
1463 1A             2591                 dec     r2
1464 BA00ED         2592                 cjne    r2,#000h,sekloop
1467 22             2593                 ret
                    2594    ;подпрограмма формирования 0,1 сек для отсчета
1468 758901         2595    sek0:        mov     tmod,#001h
                    2596    ;             clr     rs0
                    2597    ;             clr     rs1
146B 7A06           2598                 mov     r2,#006h                   
146D 758C3C         2599    sek00loop:   mov     th0,#03ch
1470 758AB0         2600                 mov     tl0,#0b0h
KVART100                                                                                                      PAGE 51

1473 D28C           2601                 setb    tr0
1475 308DFD         2602    sek0lowai:   jnb     tf0,sek0lowai            
1478 C28C           2603                 clr     tr0
147A C28D           2604                 clr     tf0 
147C 1A             2605                 dec     r2
147D BA00ED         2606                 cjne    r2,#000h,sek00loop
1480 22             2607                 ret
                    2608    ; подпрограмма формирования 1 сек для отсчета
1481 758901         2609    sek1:         mov     tmod,#001h
                    2610    ;             clr     rs0
                    2611    ;             clr     rs1
1484 7A14           2612                 mov     r2,#014h                   ; или МОЖЕТ БЫТЬ 20 ?????????????          
                                                                               
1486 758C00         2613    sek1loop:    mov     th0,#000h
1489 758AFF         2614                 mov     tl0,#0ffh
148C D28C           2615                 setb    tr0
148E 308DFD         2616    sek1owai:    jnb     tf0,sek1owai            
1491 C28C           2617                 clr     tr0
1493 C28D           2618                 clr     tf0 
1495 1A             2619                 dec     r2
1496 BA00ED         2620                 cjne    r2,#000h,sek1loop
1499 22             2621    sek1b:       ret
                    2622    
                    2623    
                    2624    ;программа ожидания 2-го ответа станции 
149A 1211BE         2625    mezgor:     lcall   ind
149D 7438           2626                mov     a,#038h
149F 57             2627                anl     a,@r1         
14A0 D297           2628                setb    p1.7
14A2 F580           2629                mov     p0,a
14A4 D293           2630                setb    p1.3
14A6 C293           2631                clr     p1.3 
                    2632    ;            mov     p1,#030h                ;1 запись цифры в номеронабиратель
                    2633    ;            mov     p1,#038h                ;2 
                    2634    ;            mov     p1,#030h                ;3
14A8 30A5FD         2635    nabmez:     jnb     p2.5,nabmez              ;ожидание готовности номеронабирателя
                    2636    
                    2637    
14AB 8825           2638                 mov     025h,r0            ;временное сохр регистров
14AD 8926           2639                 mov     026h,r1 
                    2640    
14AF 78B3           2641                 mov     r0,#0b3h                 ; адрес памяти старшей цифры ож. 2-го ответа с
                                                                               т
14B1 79B4           2642                 mov     r1,#0b4h                 ; адрес памяти младшей цифры ож. 2-го ответа с
                                                                               т
14B3 B63010         2643                 cjne    @r0,#030h,connectm1               ;1 сравнить с памятью цифр если нули 
                                                                               то не 
14B6 B7305A         2644                 cjne    @r1,#030h,connectm2               ;2 проверяем отв ст
14B9 A825           2645                 mov     r0,025h
14BB A926           2646                 mov     r1,026h
14BD 851480         2647                 mov     p0,014h
14C0 121639         2648                 lcall   disp_wcomm
14C3 020A7E         2649                 ljmp    nabnom21
14C6 E6             2650    connectm1:   mov     a,@r0                    ;чтение старшей цифры ож
14C7 540F           2651                 anl     a,#00fh                  ;установка старшего полубайта в 0
14C9 FD             2652                 mov     r5,a                     ;запись времени ож  в сек во временный рег R5
                                                                               
14CA 7B0A           2653                 mov     r3,#00ah                 ;установка множителя 10хсек
KVART100                                                                                                      PAGE 52

14CC 758001         2654    connectm11:  mov     p0,#001h          
14CF 121639         2655                lcall   disp_wcomm
14D2 7F80           2656                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
14D4 90173A         2657                mov     dptr,#ozid            
14D7 8F80           2658    connoz2:   mov     p0,r7
14D9 121639         2659                lcall   disp_wcomm
14DC 7400           2660                mov     a,#00h
14DE 93             2661                movc    a,@a+dptr
14DF F580           2662                mov     p0,a
14E1 121646         2663                lcall   disp_wdata
14E4 A3             2664                inc     dptr
14E5 0F             2665                inc     r7
14E6 7400           2666                mov     a,#00h
14E8 93             2667                movc    a,@a+dptr
14E9 B4FFEB         2668                cjne    a,#0ffh,connoz2
14EC 7FC0           2669                mov     r7,#0c0h
14EE 9016A9         2670                mov     dptr,#t2otv         ;  вывод текста 2-го ОТВ на второй строке    
14F1 8F80           2671    connoza2:  mov     p0,r7
14F3 121639         2672                lcall   disp_wcomm
14F6 7400           2673                mov     a,#00h
14F8 93             2674                movc    a,@a+dptr
14F9 F580           2675                mov     p0,a
14FB 121646         2676                lcall   disp_wdata
14FE A3             2677                inc     dptr
14FF 0F             2678                inc     r7
1500 7400           2679                mov     a,#00h
1502 93             2680                movc    a,@a+dptr
1503 B4FFEB         2681                cjne    a,#0ffh,connoza2
1506 30A776         2682                 jnb     p2.7,mezg7                     ; проверка наличия отв ст(0) если нет (1
                                                                               ) то 
1509 12144F         2683                 lcall   sek                            ;ожидание
150C 30A473         2684                 jnb     p2.4,pryg3                    ;принуд выход из проверок по наж "OK"
150F DBBB           2685                 djnz    r3,connectm11
1511 DDB9           2686                 djnz    r5,connectm11
1513 B7306F         2687    connectm2:   cjne    @r1,#030h,connectm21
1516 30A766         2688                 jnb     p2.7,mezg7                          
1519 758000         2689                 mov     p0,#000h                 ;1выкл линии аб А
151C 7590A0         2690                 mov     p1,#0a0h                 ;2
151F 7590B0         2691                 mov     p1,#0b0h                 ;3
1522 758001         2692    funcm302:    mov     p0,#01h               ;вывод текста НЕТ 2-го ОТВ СТ
1525 121639         2693                lcall   disp_wcomm
1528 7F80           2694                mov     r7,#080h                 ;  вывод текста НЕТ 
152A 9016E7         2695                mov     dptr,#tnet            
152D 8F80           2696    funcm300:    mov     p0,r7
152F 121639         2697                lcall   disp_wcomm
1532 7400           2698                mov     a,#00h
1534 93             2699                movc    a,@a+dptr
1535 F580           2700                mov     p0,a
1537 121646         2701                lcall   disp_wdata
153A A3             2702                inc     dptr
153B 0F             2703                inc     r7
153C 7400           2704                mov     a,#00h
153E 93             2705                movc    a,@a+dptr
153F B4FFEB         2706                cjne    a,#0ffh,funcm300
1542 7FC0           2707                mov     r7,#0c0h                       ;  вывод текста 2-го Ответа 
1544 9016A9         2708                mov     dptr,#t2otv            
1547 8F80           2709    funcm301:   mov     p0,r7
1549 121639         2710                lcall   disp_wcomm
KVART100                                                                                                      PAGE 53

154C 7400           2711                mov     a,#00h
154E 93             2712                movc    a,@a+dptr
154F F580           2713                mov     p0,a
1551 121646         2714                lcall   disp_wdata
1554 A3             2715                inc     dptr
1555 0F             2716                inc     r7
1556 7400           2717                mov     a,#00h
1558 93             2718                movc    a,@a+dptr
1559 B4FFEB         2719                cjne    a,#0ffh,funcm301
155C 758080         2720                mov     p0,#080h          ; выкл линию аб А и вкл ГЕН
155F 7590A0         2721                mov     p1,#0a0h             ;1 запись в регистр упр 
1562 7590B0         2722                mov     p1,#0b0h             ;2
1565 12144F         2723                lcall   sek
1568 758000         2724                mov     p0,#000h          ; выкл линию аб А и выкл ГЕН
156B 7590A0         2725                mov     p1,#0a0h             ;1 запись в регистр упр 
156E 7590B0         2726                mov     p1,#0b0h             ;2
1571 30A40E         2727                jnb     p2.4,pryg3                    ;принуд выход из проверок по наж "OK"
1574 D52805         2728                djnz    028h,net3
1577 0511           2729                inc     011h
1579 020F3A         2730                ljmp    kommab
157C 0208F0         2731    net3:       ljmp    progra
157F 0215D1         2732    mezg7:      ljmp    mezgor1
1582 020183         2733    pryg3:      ljmp    func1
                    2734    
1585 E7             2735    connectm21: mov     a,@r1                    ;чтение младшей цифры ож
1586 540F           2736                anl     a,#00fh                  ;установка старшего полубайта в 0
1588 FD             2737                mov     r5,a                     ;запись времени ож во временный рег R5
1589 758001         2738    connectm211:mov     p0,#001h          
158C 121639         2739                lcall   disp_wcomm
158F 7F80           2740                mov     r7,#80h            ;  вывод текста ОЖИДАНИЕ на первой строке 
1591 90173A         2741                mov     dptr,#ozid            
1594 8F80           2742    connoz3:    mov     p0,r7
1596 121639         2743                lcall   disp_wcomm
1599 7400           2744                mov     a,#00h
159B 93             2745                movc    a,@a+dptr
159C F580           2746                mov     p0,a
159E 121646         2747                lcall   disp_wdata
15A1 A3             2748                inc     dptr
15A2 0F             2749                inc     r7
15A3 7400           2750                mov     a,#00h
15A5 93             2751                movc    a,@a+dptr
15A6 B4FFEB         2752                cjne    a,#0ffh,connoz3
15A9 7FC0           2753                mov     r7,#0c0h
15AB 9016A9         2754                mov     dptr,#t2otv         ;  вывод текста 2-го ОТВ на второй строке    
15AE 8F80           2755    connoza3:   mov     p0,r7
15B0 121639         2756                lcall   disp_wcomm
15B3 7400           2757                mov     a,#00h
15B5 93             2758                movc    a,@a+dptr
15B6 F580           2759                mov     p0,a
15B8 121646         2760                lcall   disp_wdata
15BB A3             2761                inc     dptr
15BC 0F             2762                inc     r7
15BD 7400           2763                mov     a,#00h
15BF 93             2764                movc    a,@a+dptr
15C0 B4FFEB         2765                cjne    a,#0ffh,connoza3
15C3 30A70B         2766                jnb     p2.7,mezgor1              ; проверка наличия отв ст(0) если нет (1) то 
                                                                               
15C6 12144F         2767                lcall   sek                       ;ожидание
KVART100                                                                                                      PAGE 54

15C9 30A4B6         2768                jnb     p2.4,pryg3                    ;принуд выход из проверок по наж "OK"
15CC DDBB           2769                djnz    r5,connectm211
15CE 021522         2770                ljmp    funcm302
15D1 A825           2771    mezgor1:    mov     r0,025h                    ;восстан регистров            
15D3 A926           2772                mov     r1,026h 
15D5 758001         2773                mov     p0,#001h          
15D8 121639         2774                lcall   disp_wcomm
15DB 1211BE         2775                lcall   ind 
15DE 020A7E         2776                ljmp    nabnom21
                    2777     
                    2778    
15E1                2779    dubizm:                               ;индикация времени проверки на DISP в правом нижнем уг
                                                                               лу
15E1 7430           2780                 mov     a,#030h                ;проверка на 0 мл.разр счетчика сколько прошло 
                                                                               
15E3 B51B0E         2781                 cjne    a,01bh,dub1            ;времени выводимого на экран
15E6 751B39         2782                 mov     01bh,#039h
15E9 B51A0D         2783                 cjne    a,01ah,dub2
15EC 751A39         2784                 mov     01ah,#039h
15EF B5190C         2785                 cjne    a,019h,dub3
15F2 C103           2786                 ajmp     dubok
15F4 151B           2787    dub1:        dec     01bh
15F6 021603         2788                 jmp     dubok
15F9 151A           2789    dub2:        dec     01ah
15FB 021603         2790                 jmp     dubok
15FE 1519           2791    dub3:        dec     019h
1600 021603         2792                 jmp     dubok
1603 7580C8         2793    dubok:       mov     p0,#0c8h          ;вывод на экран "XXX c" для индикации отсчетов в сек 
                                                                                  
1606 121653         2794                 lcall   disp_wcq        ; при проверках
1609 851980         2795                 mov     p0,019h
160C 121660         2796                 lcall   disp_wdq 
160F 7580C9         2797                 mov     p0,#0c9h             
1612 121653         2798                 lcall   disp_wcq
1615 851A80         2799                 mov     p0,01ah
1618 121660         2800                 lcall   disp_wdq 
161B 7580CA         2801                 mov     p0,#0cah             
161E 121653         2802                 lcall   disp_wcq
1621 851B80         2803                 mov     p0,01bh
1624 121660         2804                 lcall   disp_wdq
1627 22             2805                 ret
                    2806    
1628 7590B4         2807    disp_wait:     mov     p1,#0b4h              ;уст. RS=0 RW=1 E=0  (чтение бита 7 готовности 
                                                                                                                        
                                                                                                                    ;дис
                                                                               плея)  ожидание гот. DISP
162B 7590B6         2808                   mov     p1,#0b6h              ;уст. RS=0 RW=1 E=1  (если D7=1 то busy) 
162E 2087F7         2809                   jb      p0.7,disp_wait
1631 7590B0         2810                   mov     p1,#0b0h              ;уст. RS=0 RW=0 E=0
1634 7E80           2811                   mov     r6,#080h              ;1 задержка 
1636 DEFE           2812    wait:          djnz    r6,wait               ;2
1638 22             2813                   ret            
1639 7590B0         2814    disp_wcomm:    mov     p1,#0b0h              ;уст  RS=0 RW=0    Запись команды(адреса) в DIS
                                                                               P
163C 7590B2         2815                   mov     p1,#0b2h              ;уст  E=1
163F 7590B0         2816                   mov     p1,#0b0h              ;уст  E=0
1642 121628         2817                   lcall   disp_wait
1645 22             2818                   ret
KVART100                                                                                                      PAGE 55

1646 7590B1         2819    disp_wdata:    mov     p1,#0b1h              ;уст  RS=1 RW=0  Запись данных в DISP
1649 7590B3         2820                   mov     p1,#0b3h              ;уст  E=1
164C 7590B0         2821                   mov     p1,#0b0h              ;уст  RS=0 RW=0 E=0
164F 121628         2822                   lcall   disp_wait
1652 22             2823                   ret              
                    2824    
                    2825    ;быстрый вывод
1653 7590B0         2826    disp_wcq:      mov     p1,#0b0h              ;уст  RS=0 RW=0    Запись команды(адреса) в DIS
                                                                               P
1656 7590B2         2827                   mov     p1,#0b2h              ;уст  E=1
1659 7590B0         2828                   mov     p1,#0b0h              ;уст  E=0
165C 12166A         2829                   lcall   disp_wq
165F 22             2830                   ret
1660 7590B1         2831    disp_wdq:      mov     p1,#0b1h              ;уст  RS=1 RW=0  Запись данных в DISP
1663 7590B3         2832                   mov     p1,#0b3h              ;уст  E=1
1666 7590B0         2833                   mov     p1,#0b0h              ;уст  RS=0 RW=0 E=0
                    2834    ;               lcall   disp_wq
1669 22             2835                   ret              
166A 7590B4         2836    disp_wq:       mov     p1,#0b4h              ;уст. RS=0 RW=1 E=0  (чтение бита 7 готовности 
                                                                               дисплея)                 
166D 7590B6         2837                    mov      p1,#0b6h              ;уст. RS=0 RW=1 E=1  (если D7=1 то busy)
1670 2087F7         2838                    jb         p0.7,disp_wq
1673 22             2839                    ret   
                    2840    
                    2841    
1674 48             2842    tnomer1:    db      048h                 ;текст НОМЕР+ (пробел)        
1675 6F             2843                db      06fh
1676 BC             2844                db      0bch
1677 65             2845                db      065h       
1678 70             2846                db      070h
1679 20             2847                db      020h
167A FF             2848                db      0ffh                 ;маркер конец текста
167B 61             2849    tab:        db      061h                 ;текст АБ.        
167C B2             2850                db      0b2h
167D 2E             2851                db      02eh
167E FF             2852                db      0ffh       
167F 6F             2853    tozid:      db      06fh                 ;текст ОЖ.+(пробел)
1680 B6             2854                db      0b6h
1681 2E             2855                db      02eh
1682 20             2856                db      020h
1683 FF             2857                db      0ffh
1684 63             2858    tsek:       db      063h                 ;текст СЕК        
1685 65             2859                db      065h
1686 BA             2860                db      0bah
1687 FF             2861                db      0ffh       
1688 E0             2862    tdlit:      db      0e0h                 ;текст ДЛИТ. И КОЛ.                
1689 BB             2863                db      0bbh
168A B8             2864                db      0b8h
168B BF             2865                db      0bfh
168C 2E             2866                db      02eh       
168D 20             2867                db      020h
168E B8             2868                db      0b8h
168F 20             2869                db      020h
1690 BA             2870                db      0bah
1691 6F             2871                db      06fh       
1692 BB             2872                db      0bbh
1693 2E             2873                db      02eh
1694 FF             2874                db      0ffh                 ;маркер конец текста
KVART100                                                                                                      PAGE 56

1695 63             2875    tsoed:      db      063h                 ;текст СОЕДИНЕНИЙ                
1696 6F             2876                db      06fh
1697 65             2877                db      065h
1698 E3             2878                db      0e3h
1699 B8             2879                db      0b8h       
169A BD             2880                db      0bdh
169B 65             2881                db      065h
169C BD             2882                db      0bdh
169D B8             2883                db      0b8h
169E B9             2884                db      0b9h       
169F FF             2885                db      0ffh                 ;маркер конец текста
16A0 6F             2886    totvet:     db      06fh                 ;текст ОТВЕТпробелСТ                
16A1 BF             2887                db      0bfh
16A2 B3             2888                db      0b3h
16A3 65             2889                db      065h
16A4 BF             2890                db      0bfh       
16A5 20             2891                db      020h
16A6 63             2892                db      063h
16A7 BF             2893                db      0bfh
16A8 FF             2894                db      0ffh                 ;маркер конец текста
16A9 32             2895    t2otv:      db      032h                 ;текст 2-гопробелОТВ                
16AA 2D             2896                db      02dh
16AB B4             2897                db      0b4h
16AC 6F             2898                db      06fh
16AD 20             2899                db      020h       
16AE 6F             2900                db      06fh
16AF BF             2901                db      0bfh
16B0 B3             2902                db      0b3h
16B1 FF             2903                db      0ffh                 ;маркер конец текста
16B2 BE             2904    tpriem:     db      0beh                 ;текст ПРИЕМпробелВЫЗОВА                
16B3 70             2905                db      070h
16B4 B8             2906                db      0b8h
16B5 B5             2907                db      0b5h
16B6 BC             2908                db      0bch       
16B7 20             2909                db      020h
16B8 B3             2910                db      0b3h
16B9 C3             2911                db      0c3h
16BA B7             2912                db      0b7h
16BB 6F             2913                db      06fh
16BC B3             2914                db      0b3h       
16BD 61             2915                db      061h
16BE FF             2916                db      0ffh                 ;маркер конец текста
16BF BC             2917    tmezgor:    db      0bch                 ;текст МЕЖГОРОД                
16C0 65             2918                db      065h
16C1 B6             2919                db      0b6h
16C2 B4             2920                db      0b4h
16C3 6F             2921                db      06fh       
16C4 70             2922                db      070h
16C5 6F             2923                db      06fh
16C6 E3             2924                db      0e3h
16C7 FF             2925                db      0ffh                 ;маркер конец текста
16C8 BA             2926    tkontrsoe:  db      0bah                 ;текст КОНТР.пробелСОЕД.                
16C9 6F             2927                db      06fh
16CA BD             2928                db      0bdh
16CB BF             2929                db      0bfh
16CC 70             2930                db      070h       
16CD 2E             2931                db      02eh
16CE 20             2932                db      020h
KVART100                                                                                                      PAGE 57

16CF 63             2933                db      063h
16D0 6F             2934                db      06fh
16D1 65             2935                db      065h
16D2 E3             2936                db      0e3h       
16D3 2E             2937                db      02eh
16D4 FF             2938                db      0ffh                 ;маркер конец текста
16D5 4F             2939    totboy:     db      04fh                 ; текст ОТБОЙ АБ.
16D6 54             2940                db      054h
16D7 A0             2941                db      0a0h
16D8 4F             2942                db      04fh       
16D9 A6             2943                db      0a6h
16DA 20             2944                db      020h
16DB 41             2945                db      041h 
16DC A0             2946                db      0a0h 
16DD 2E             2947                db      02eh
16DE FF             2948                db      0ffh                 ;маркер конец текста
16DF 63             2949    tstart:     db      063h                 ;текст СТАРТ?                
16E0 BF             2950                db      0bfh
16E1 61             2951                db      061h
16E2 70             2952                db      070h
16E3 BF             2953                db      0bfh       
16E4 20             2954                db      020h
16E5 3F             2955                db      03fh
16E6 FF             2956                db      0ffh                 ;маркер конец текста
16E7 48             2957    tnet:       db      048h                 ;текст НЕТ                
16E8 45             2958                db      045h
16E9 54             2959                db      054h    
16EA FF             2960                db      0ffh                 ;маркер конец текста
16EB 30             2961    tcifr:      db      030h                 ;цифры набора 
16EC 31             2962                db      031h
16ED 32             2963                db      032h
16EE 33             2964                db      033h
16EF 34             2965                db      034h
16F0 35             2966                db      035h
16F1 36             2967                db      036h
16F2 37             2968                db      037h
16F3 38             2969                db      038h
16F4 39             2970                db      039h
16F5 50             2971                db      050h                 
16F6 54             2972                db      054h
16F7 57             2973                db      057h
16F8 23             2974                db      023h
16F9 2A             2975                db      02ah 
16FA 02             2976                db      002h
16FB 20             2977                db      020h
16FC FF             2978                db      0ffh
16FD 30             2979    tpredust:   db      030h                 ;080h   значения предустановки данных испытаний 
16FE 32             2980                db      032h                 ;21,2c 20
16FF 31             2981                db      031h
1700 2C             2982                db      02ch
1701 32             2983                db      032h
1702 63             2984                db      063h
1703 20             2985                db      020h
1704 32             2986                db      032h
1705 30             2987                db      030h                 ;088h
1706 30             2988                db      030h                 ;089h 
1707 36             2989                db      036h                 ;62,4c 20 
1708 32             2990                db      032h
KVART100                                                                                                      PAGE 58

1709 2C             2991                db      02ch
170A 34             2992                db      034h
170B 63             2993                db      063h
170C 20             2994                db      020h
170D 32             2995                db      032h
170E 30             2996                db      030h                 ;091h             
170F 31             2997                db      031h                 ;092h
1710 32             2998                db      032h                 ;123,6c 20
1711 33             2999                db      033h
1712 2C             3000                db      02ch
1713 36             3001                db      036h
1714 63             3002                db      063h
1715 20             3003                db      020h
1716 32             3004                db      032h
1717 30             3005                db      030h                 ;09ah
1718 31             3006                db      031h                 ;09bh
1719 38             3007                db      038h                 ;184,8c 10
171A 34             3008                db      034h
171B 2C             3009                db      02ch
171C 38             3010                db      038h
171D 63             3011                db      063h
171E 20             3012                db      020h
171F 31             3013                db      031h
1720 30             3014                db      030h                 ;0A3h
1721 36             3015                db      036h                 ;0A4h
1722 30             3016                db      030h                 ;605,5c 5
1723 35             3017                db      035h
1724 2C             3018                db      02ch
1725 35             3019                db      035h
1726 63             3020                db      063h
1727 20             3021                db      020h
1728 30             3022                db      030h
1729 35             3023                db      035h                 ;0ACh
172A FF             3024                db      0ffh
172B 70             3025    traz:       db      070h                 ;текст  РАЗ
172C 61             3026                db      061h
172D B7             3027                db      0b7h
172E FF             3028                db      0ffh
172F 30             3029    tcifr1:     db      030h
1730 31             3030                db      031h                 ;цифры
1731 32             3031                db      032h
1732 33             3032                db      033h
1733 34             3033                db      034h
1734 35             3034                db      035h
1735 36             3035                db      036h
1736 37             3036                db      037h
1737 38             3037                db      038h
1738 39             3038                db      039h
1739 FF             3039                db      0ffh
173A 6F             3040    ozid:       db      06fh                 ;текст ОЖИДАНИЕ
173B B6             3041                db      0b6h
173C B8             3042                db      0b8h
173D E3             3043                db      0e3h
173E 61             3044                db      061h
173F BD             3045                db      0bdh
1740 B8             3046                db      0b8h
1741 65             3047                db      065h
1742 FF             3048                db      0ffh
KVART100                                                                                                      PAGE 59

1743 48             3049    netnom:     db      048h                 ;текст НЕТ НОМЕРОВ ! 
1744 45             3050                db      045h
1745 54             3051                db      054h
1746 20             3052                db      020h
1747 BD             3053                db      0bdh                        
1748 6F             3054                db      06fh
1749 BC             3055                db      0bch
174A 65             3056                db      065h       
174B 70             3057                db      070h
174C 6F             3058                db      06fh            
174D B3             3059                db      0b3h
174E 21             3060                db      021h
174F FF             3061                db      0ffh
1750 BE             3062    proba:      db      0beh                 ;текст ПРОБА
1751 70             3063                db      070h
1752 6F             3064                db      06fh
1753 B2             3065                db      0b2h
1754 61             3066                db      061h
1755 20             3067                db      020h
1756 3F             3068                db      03fh
1757 FF             3069                db      0ffh
1758 4F             3070    tprobe:     db      04fh                 ;080h   значения предустановки данных теста 
1759 70             3071                db      070h                 ;10,0c 01
175A BB             3072                db      0bbh
175B 6F             3073                db      06fh
175C B3             3074                db      0b3h
175D 20             3075                db      020h
175E EF             3076                db      0efh
175F 20             3077                db      020h
1760 32             3078                db      032h                 ;088h
1761 30             3079                db      030h                 ;089h 
1762 30             3080                db      030h                 ;00,0c 00 
1763 35             3081                db      035h
1764 FF             3082                db      0ffh
1765 A8             3083    tvse:     db      0a8h                 ;текст ПРОГРАММА
1766 50             3084                db      050h                 
1767 4F             3085                db      04fh
1768 A1             3086                db      0a1h
1769 50             3087                db      050h
176A 41             3088                db      041h
176B 4D             3089                db      04dh
176C 4D             3090                db      04dh
176D 41             3091                db      041h                
176E FF             3092                db      0ffh    
176F A4             3093    tvse1:     db      0a4h                 ;текст ЗАВЕРШЕНА
1770 41             3094                db      041h                 
1771 42             3095                db      042h
1772 45             3096                db      045h
1773 50             3097                db      050h
1774 AC             3098                db      0ach
1775 45             3099                db      045h
1776 48             3100                db      048h
1777 41             3101                db      041h                
1778 FF             3102                db      0ffh           
                    3103    ;____________________________________________________________________
                    3104       
                    3105      END

VERSION 1.2h ASSEMBLY COMPLETE, 1 ERRORS FOUND

ERROR SUMMARY:
KVART100                                                                                                      PAGE 60

Line #39, ERROR #29: Expecting an EOL or COMMENT
KVART100                                                                                                      PAGE 61

AB2. . . . . . . . . . . . . . .  C ADDR  0F57H  
AB2A . . . . . . . . . . . . . .  C ADDR  0F70H  
AB3. . . . . . . . . . . . . . .  C ADDR  0F7CH  
AB3A . . . . . . . . . . . . . .  C ADDR  0F8BH  
AB4. . . . . . . . . . . . . . .  C ADDR  0FA1H  NOT USED  
AB4A . . . . . . . . . . . . . .  C ADDR  0FAEH  
AB5. . . . . . . . . . . . . . .  C ADDR  0FB1H  
AB5A . . . . . . . . . . . . . .  C ADDR  0FBEH  
ABCDE. . . . . . . . . . . . . .  C ADDR  00C3H  
CON111 . . . . . . . . . . . . .  C ADDR  0AA7H  
CONNECT1 . . . . . . . . . . . .  C ADDR  092BH  
CONNECT11. . . . . . . . . . . .  C ADDR  0931H  
CONNECT2 . . . . . . . . . . . .  C ADDR  0978H  
CONNECT21. . . . . . . . . . . .  C ADDR  09E6H  
CONNECT211 . . . . . . . . . . .  C ADDR  09EAH  
CONNECTM1. . . . . . . . . . . .  C ADDR  14C6H  
CONNECTM11 . . . . . . . . . . .  C ADDR  14CCH  
CONNECTM2. . . . . . . . . . . .  C ADDR  1513H  
CONNECTM21 . . . . . . . . . . .  C ADDR  1585H  
CONNECTM211. . . . . . . . . . .  C ADDR  1589H  
CONNECTO1. . . . . . . . . . . .  C ADDR  0AAAH  
CONNECTO11 . . . . . . . . . . .  C ADDR  0AB0H  
CONNECTO2. . . . . . . . . . . .  C ADDR  0AF4H  
CONNECTO21 . . . . . . . . . . .  C ADDR  0B63H  
CONNECTO211. . . . . . . . . . .  C ADDR  0B67H  
CONNECTO3. . . . . . . . . . . .  C ADDR  0BACH  
CONNOZ2. . . . . . . . . . . . .  C ADDR  14D7H  
CONNOZ3. . . . . . . . . . . . .  C ADDR  1594H  
CONNOZA2 . . . . . . . . . . . .  C ADDR  14F1H  
CONNOZA3 . . . . . . . . . . . .  C ADDR  15AEH  
CONNOZD1 . . . . . . . . . . . .  C ADDR  0ABBH  
CONNOZD2 . . . . . . . . . . . .  C ADDR  0B72H  
CONNOZDA1. . . . . . . . . . . .  C ADDR  0AD5H  
CONNOZDA2. . . . . . . . . . . .  C ADDR  0B8CH  
CONNOZID . . . . . . . . . . . .  C ADDR  093CH  
CONNOZID1. . . . . . . . . . . .  C ADDR  09F5H  
CONNOZIDA. . . . . . . . . . . .  C ADDR  0956H  
CONNOZIDA1 . . . . . . . . . . .  C ADDR  0A0FH  
COUNT1 . . . . . . . . . . . . .  C ADDR  0D1BH  
COUNT10. . . . . . . . . . . . .  C ADDR  0D4EH  
COUNT1A. . . . . . . . . . . . .  C ADDR  0D26H  
COUNTER. . . . . . . . . . . . .  C ADDR  0CEAH  
COUNTSEK . . . . . . . . . . . .  C ADDR  0D28H  
COUNTSEK1. . . . . . . . . . . .  C ADDR  0D3FH  
DAT. . . . . . . . . . . . . . .  C ADDR  03E5H  
DATA1. . . . . . . . . . . . . .  C ADDR  12B9H  
DATA11 . . . . . . . . . . . . .  C ADDR  12B7H  
DATA2. . . . . . . . . . . . . .  C ADDR  12CBH  
DISP_WAIT. . . . . . . . . . . .  C ADDR  1628H  
DISP_WCOMM . . . . . . . . . . .  C ADDR  1639H  
DISP_WCQ . . . . . . . . . . . .  C ADDR  1653H  
DISP_WDATA . . . . . . . . . . .  C ADDR  1646H  
DISP_WDQ . . . . . . . . . . . .  C ADDR  1660H  
DISP_WQ. . . . . . . . . . . . .  C ADDR  166AH  
DUB1 . . . . . . . . . . . . . .  C ADDR  15F4H  
DUB2 . . . . . . . . . . . . . .  C ADDR  15F9H  
DUB3 . . . . . . . . . . . . . .  C ADDR  15FEH  
DUBIZM . . . . . . . . . . . . .  C ADDR  15E1H  
KVART100                                                                                                      PAGE 62

DUBOK. . . . . . . . . . . . . .  C ADDR  1603H  
EAGLE. . . . . . . . . . . . . .  C ADDR  0094H  
EAGLE1 . . . . . . . . . . . . .  C ADDR  009AH  
EAGLE11. . . . . . . . . . . . .  C ADDR  00ABH  
F5CIFR . . . . . . . . . . . . .  C ADDR  1423H  
F5NAZ. . . . . . . . . . . . . .  C ADDR  1407H  
F5NAZ301 . . . . . . . . . . . .  C ADDR  140AH  
F5NAZ311 . . . . . . . . . . . .  C ADDR  141AH  
F5NAZ321 . . . . . . . . . . . .  C ADDR  1413H  
F5VPER . . . . . . . . . . . . .  C ADDR  13EBH  
F5VPER1. . . . . . . . . . . . .  C ADDR  13EEH  
F5VPER11 . . . . . . . . . . . .  C ADDR  13F7H  
F5VPER31 . . . . . . . . . . . .  C ADDR  13FEH  
F5VV . . . . . . . . . . . . . .  C ADDR  144EH  
F5VVOD31 . . . . . . . . . . . .  C ADDR  142FH  
F5VVOD32 . . . . . . . . . . . .  C ADDR  1444H  
F5VVOD5. . . . . . . . . . . . .  C ADDR  144AH  
F5VVOD51 . . . . . . . . . . . .  C ADDR  1433H  
FUNC1. . . . . . . . . . . . . .  C ADDR  0183H  
FUNC100. . . . . . . . . . . . .  C ADDR  07D4H  
FUNC11 . . . . . . . . . . . . .  C ADDR  019DH  
FUNC1111 . . . . . . . . . . . .  C ADDR  07FFH  
FUNC11A. . . . . . . . . . . . .  C ADDR  0752H  
FUNC12 . . . . . . . . . . . . .  C ADDR  01B3H  
FUNC192. . . . . . . . . . . . .  C ADDR  078BH  
FUNC193. . . . . . . . . . . . .  C ADDR  07A7H  
FUNC195. . . . . . . . . . . . .  C ADDR  07C3H  
FUNC2. . . . . . . . . . . . . .  C ADDR  020CH  
FUNC22 . . . . . . . . . . . . .  C ADDR  0222H  
FUNC23 . . . . . . . . . . . . .  C ADDR  0238H  
FUNC3. . . . . . . . . . . . . .  C ADDR  038BH  
FUNC30 . . . . . . . . . . . . .  C ADDR  039CH  
FUNC300. . . . . . . . . . . . .  C ADDR  0992H  
FUNC301. . . . . . . . . . . . .  C ADDR  09ACH  
FUNC302. . . . . . . . . . . . .  C ADDR  0987H  
FUNC31 . . . . . . . . . . . . .  C ADDR  03B3H  
FUNC32 . . . . . . . . . . . . .  C ADDR  03D6H  
FUNC4. . . . . . . . . . . . . .  C ADDR  04B5H  
FUNC400. . . . . . . . . . . . .  C ADDR  04C0H  
FUNC401. . . . . . . . . . . . .  C ADDR  04FCH  
FUNC42 . . . . . . . . . . . . .  C ADDR  0551H  
FUNC43 . . . . . . . . . . . . .  C ADDR  056DH  
FUNC45 . . . . . . . . . . . . .  C ADDR  0589H  
FUNC50 . . . . . . . . . . . . .  C ADDR  05A0H  
FUNC500. . . . . . . . . . . . .  C ADDR  13A2H  
FUNC502. . . . . . . . . . . . .  C ADDR  05EFH  
FUNC51 . . . . . . . . . . . . .  C ADDR  05B6H  
FUNC52 . . . . . . . . . . . . .  C ADDR  1381H  
FUNC59 . . . . . . . . . . . . .  C ADDR  05F2H  
FUNC60 . . . . . . . . . . . . .  C ADDR  0603H  
FUNC602. . . . . . . . . . . . .  C ADDR  0652H  
FUNC61 . . . . . . . . . . . . .  C ADDR  0619H  
FUNC69 . . . . . . . . . . . . .  C ADDR  0655H  
FUNC70 . . . . . . . . . . . . .  C ADDR  0666H  
FUNC702. . . . . . . . . . . . .  C ADDR  06A4H  
FUNC79 . . . . . . . . . . . . .  C ADDR  06A7H  
FUNC800. . . . . . . . . . . . .  C ADDR  0841H  
FUNC90 . . . . . . . . . . . . .  C ADDR  06B8H  
KVART100                                                                                                      PAGE 63

FUNC911. . . . . . . . . . . . .  C ADDR  086FH  
FUNC9111 . . . . . . . . . . . .  C ADDR  086CH  
FUNC92 . . . . . . . . . . . . .  C ADDR  06F9H  
FUNC93 . . . . . . . . . . . . .  C ADDR  071DH  
FUNC95 . . . . . . . . . . . . .  C ADDR  0741H  
FUNCA2 . . . . . . . . . . . . .  C ADDR  01DFH  
FUNCA2B. . . . . . . . . . . . .  C ADDR  028BH  
FUNCA2G. . . . . . . . . . . . .  C ADDR  030BH  
FUNCA3 . . . . . . . . . . . . .  C ADDR  0264H  
FUNCAB . . . . . . . . . . . . .  C ADDR  1224H  
FUNCAB2. . . . . . . . . . . . .  C ADDR  02DEH  
FUNCAB3. . . . . . . . . . . . .  C ADDR  1310H  
FUNCAG2. . . . . . . . . . . . .  C ADDR  035EH  
FUNCB11. . . . . . . . . . . . .  C ADDR  029CH  
FUNCB12. . . . . . . . . . . . .  C ADDR  02B2H  
FUNCG11. . . . . . . . . . . . .  C ADDR  031CH  
FUNCG12. . . . . . . . . . . . .  C ADDR  0332H  
FUNCM300 . . . . . . . . . . . .  C ADDR  152DH  
FUNCM301 . . . . . . . . . . . .  C ADDR  1547H  
FUNCM302 . . . . . . . . . . . .  C ADDR  1522H  
FUNCO300 . . . . . . . . . . . .  C ADDR  0B0EH  
FUNCO301 . . . . . . . . . . . .  C ADDR  0B28H  
FUNCO302 . . . . . . . . . . . .  C ADDR  0B03H  
FUNCR11. . . . . . . . . . . . .  C ADDR  0836H  
HY . . . . . . . . . . . . . . .  C ADDR  1178H  
HY1. . . . . . . . . . . . . . .  C ADDR  118BH  
IND. . . . . . . . . . . . . . .  C ADDR  11BEH  
IND1 . . . . . . . . . . . . . .  C ADDR  11D3H  
INIT . . . . . . . . . . . . . .  C ADDR  0042H  
KF00 . . . . . . . . . . . . . .  C ADDR  01D1H  
KF001. . . . . . . . . . . . . .  C ADDR  01D7H  
KF10 . . . . . . . . . . . . . .  C ADDR  07E9H  
KF101. . . . . . . . . . . . . .  C ADDR  07F3H  
KF110. . . . . . . . . . . . . .  C ADDR  07EBH  
KF111. . . . . . . . . . . . . .  C ADDR  07F5H  
KF2. . . . . . . . . . . . . . .  C ADDR  0256H  
KF21 . . . . . . . . . . . . . .  C ADDR  025CH  
KF900. . . . . . . . . . . . . .  C ADDR  0856H  
KF9101 . . . . . . . . . . . . .  C ADDR  0860H  
KF9110 . . . . . . . . . . . . .  C ADDR  0858H  
KF9111 . . . . . . . . . . . . .  C ADDR  0862H  
KFA0 . . . . . . . . . . . . . .  C ADDR  1209H  
KFA01. . . . . . . . . . . . . .  C ADDR  1215H  
KFA119 . . . . . . . . . . . . .  C ADDR  077DH  
KFA191 . . . . . . . . . . . . .  C ADDR  0783H  
KFA196 . . . . . . . . . . . . .  C ADDR  0799H  
KFA197 . . . . . . . . . . . . .  C ADDR  079FH  
KFA198 . . . . . . . . . . . . .  C ADDR  07B5H  
KFA199 . . . . . . . . . . . . .  C ADDR  07BBH  
KFA3 . . . . . . . . . . . . . .  C ADDR  03C8H  
KFA31. . . . . . . . . . . . . .  C ADDR  03CEH  
KFA310 . . . . . . . . . . . . .  C ADDR  12F1H  
KFA311 . . . . . . . . . . . . .  C ADDR  12FFH  
KFA44. . . . . . . . . . . . . .  C ADDR  0543H  
KFA45. . . . . . . . . . . . . .  C ADDR  0549H  
KFA46. . . . . . . . . . . . . .  C ADDR  055FH  
KFA47. . . . . . . . . . . . . .  C ADDR  0565H  
KFA48. . . . . . . . . . . . . .  C ADDR  057BH  
KVART100                                                                                                      PAGE 64

KFA49. . . . . . . . . . . . . .  C ADDR  0581H  
KFA50. . . . . . . . . . . . . .  C ADDR  05E1H  
KFA51. . . . . . . . . . . . . .  C ADDR  05E7H  
KFA52. . . . . . . . . . . . . .  C ADDR  13C8H  
KFA53. . . . . . . . . . . . . .  C ADDR  13D8H  
KFA60. . . . . . . . . . . . . .  C ADDR  0644H  
KFA61. . . . . . . . . . . . . .  C ADDR  064AH  
KFA70. . . . . . . . . . . . . .  C ADDR  068EH  
KFA71. . . . . . . . . . . . . .  C ADDR  0698H  
KFA90. . . . . . . . . . . . . .  C ADDR  06E3H  
KFA91. . . . . . . . . . . . . .  C ADDR  06EDH  
KFA96. . . . . . . . . . . . . .  C ADDR  0707H  
KFA97. . . . . . . . . . . . . .  C ADDR  0711H  
KFA98. . . . . . . . . . . . . .  C ADDR  072BH  
KFA99. . . . . . . . . . . . . .  C ADDR  0735H  
KFB00. . . . . . . . . . . . . .  C ADDR  02D0H  
KFB001 . . . . . . . . . . . . .  C ADDR  02D6H  
KFG00. . . . . . . . . . . . . .  C ADDR  0350H  
KFG001 . . . . . . . . . . . . .  C ADDR  0356H  
KOM. . . . . . . . . . . . . . .  C ADDR  0D80H  
KOMMAB . . . . . . . . . . . . .  C ADDR  0F3AH  
KOMMAB1. . . . . . . . . . . . .  C ADDR  0F42H  
KOMMAB2. . . . . . . . . . . . .  C ADDR  0F48H  
KOMMAB3. . . . . . . . . . . . .  C ADDR  0F4EH  NOT USED  
KOMMUT . . . . . . . . . . . . .  C ADDR  10DCH  
KOMMUT1. . . . . . . . . . . . .  C ADDR  10F8H  
KOMMUT7. . . . . . . . . . . . .  C ADDR  111BH  
KOMMUT7A . . . . . . . . . . . .  C ADDR  0E09H  
KOMMUT7B . . . . . . . . . . . .  C ADDR  0E4EH  
KOMMUT8. . . . . . . . . . . . .  C ADDR  1132H  
KOMMUTP. . . . . . . . . . . . .  C ADDR  0F54H  
MEZG7. . . . . . . . . . . . . .  C ADDR  157FH  
MEZGOR . . . . . . . . . . . . .  C ADDR  149AH  
MEZGOR1. . . . . . . . . . . . .  C ADDR  15D1H  
NABMEZ . . . . . . . . . . . . .  C ADDR  14A8H  
NABNOM . . . . . . . . . . . . .  C ADDR  0A32H  
NABNOM0. . . . . . . . . . . . .  C ADDR  0A42H  
NABNOM1. . . . . . . . . . . . .  C ADDR  0A52H  
NABNOM2. . . . . . . . . . . . .  C ADDR  0A5AH  
NABNOM21 . . . . . . . . . . . .  C ADDR  0A7EH  
NABNOM3. . . . . . . . . . . . .  C ADDR  0A70H  
NABNOM35 . . . . . . . . . . . .  C ADDR  0A78H  
NABNOM4. . . . . . . . . . . . .  C ADDR  0A82H  
NABNOM41 . . . . . . . . . . . .  C ADDR  0A8EH  
NABNOM42 . . . . . . . . . . . .  C ADDR  0A86H  
NABNOM5. . . . . . . . . . . . .  C ADDR  0A95H  
NABNOM6. . . . . . . . . . . . .  C ADDR  0A62H  
NABNOM7. . . . . . . . . . . . .  C ADDR  0A68H  
NACH . . . . . . . . . . . . . .  C ADDR  08A9H  
NACHALO. . . . . . . . . . . . .  C ADDR  08B1H  
NAZAD. . . . . . . . . . . . . .  C ADDR  124AH  
NAZAD0 . . . . . . . . . . . . .  C ADDR  124DH  NOT USED  
NAZAD01. . . . . . . . . . . . .  C ADDR  1255H  NOT USED  
NAZAD1 . . . . . . . . . . . . .  C ADDR  125EH  
NAZAD11. . . . . . . . . . . . .  C ADDR  1263H  NOT USED  
NAZAD2 . . . . . . . . . . . . .  C ADDR  126CH  
NAZAD21. . . . . . . . . . . . .  C ADDR  1272H  
NAZAD22. . . . . . . . . . . . .  C ADDR  127AH  
KVART100                                                                                                      PAGE 65

NAZAD3 . . . . . . . . . . . . .  C ADDR  1347H  
NAZAD301 . . . . . . . . . . . .  C ADDR  134AH  
NAZAD311 . . . . . . . . . . . .  C ADDR  135BH  
NAZAD321 . . . . . . . . . . . .  C ADDR  1353H  
NET1 . . . . . . . . . . . . . .  C ADDR  09E0H  
NET2 . . . . . . . . . . . . . .  C ADDR  0B5DH  
NET3 . . . . . . . . . . . . . .  C ADDR  157CH  
NETNOM . . . . . . . . . . . . .  C ADDR  1743H  
NETNOMER . . . . . . . . . . . .  C ADDR  088EH  
NETUTI . . . . . . . . . . . . .  C ADDR  0889H  
NOMER. . . . . . . . . . . . . .  C ADDR  01EEH  
NOMER1 . . . . . . . . . . . . .  C ADDR  026DH  
NOMERB . . . . . . . . . . . . .  C ADDR  02EDH  
NOMERG . . . . . . . . . . . . .  C ADDR  036DH  
OTS1 . . . . . . . . . . . . . .  C ADDR  0C29H  
OTS2 . . . . . . . . . . . . . .  C ADDR  0C79H  
OTS2A. . . . . . . . . . . . . .  C ADDR  0CB0H  
OTS2A1 . . . . . . . . . . . . .  C ADDR  0CA0H  
OTS2AA . . . . . . . . . . . . .  C ADDR  0CB4H  
OTS2AB . . . . . . . . . . . . .  C ADDR  0CBCH  
OTS2B. . . . . . . . . . . . . .  C ADDR  0C98H  
OTS2BB . . . . . . . . . . . . .  C ADDR  0C9AH  
OTS2C. . . . . . . . . . . . . .  C ADDR  0CD0H  
OTS2C1 . . . . . . . . . . . . .  C ADDR  0CC0H  
OTS2CB . . . . . . . . . . . . .  C ADDR  0CDEH  
OTS2CC . . . . . . . . . . . . .  C ADDR  0CD6H  
OTS2CE . . . . . . . . . . . . .  C ADDR  0CD2H  
OTS2D. . . . . . . . . . . . . .  C ADDR  0CE7H  
OTSCHET. . . . . . . . . . . . .  C ADDR  0872H  
OZID . . . . . . . . . . . . . .  C ADDR  173AH  
P0 . . . . . . . . . . . . . . .  D ADDR  0080H  PREDEFINED  
P1 . . . . . . . . . . . . . . .  D ADDR  0090H  PREDEFINED  
P2 . . . . . . . . . . . . . . .  D ADDR  00A0H  PREDEFINED  
P3 . . . . . . . . . . . . . . .  D ADDR  00B0H  PREDEFINED  
PREDUST. . . . . . . . . . . . .  C ADDR  013FH  
PROB . . . . . . . . . . . . . .  C ADDR  118EH  
PROBA. . . . . . . . . . . . . .  C ADDR  1750H  
PROGRA . . . . . . . . . . . . .  C ADDR  08F0H  
PROGRA1. . . . . . . . . . . . .  C ADDR  0909H  
PROGRA11 . . . . . . . . . . . .  C ADDR  0928H  
PROV2. . . . . . . . . . . . . .  C ADDR  0E68H  
PROV21 . . . . . . . . . . . . .  C ADDR  0E98H  
PROV3. . . . . . . . . . . . . .  C ADDR  0E9DH  
PROV31 . . . . . . . . . . . . .  C ADDR  0ECDH  
PROV4. . . . . . . . . . . . . .  C ADDR  0ED0H  
PROV41 . . . . . . . . . . . . .  C ADDR  0F00H  
PROV5. . . . . . . . . . . . . .  C ADDR  0F05H  
PROV51 . . . . . . . . . . . . .  C ADDR  0F35H  
PRYG1. . . . . . . . . . . . . .  C ADDR  09E3H  
PRYG10 . . . . . . . . . . . . .  C ADDR  0DD3H  NOT USED  
PRYG2. . . . . . . . . . . . . .  C ADDR  0B60H  
PRYG3. . . . . . . . . . . . . .  C ADDR  1582H  
RAZ1 . . . . . . . . . . . . . .  C ADDR  0DDBH  
RAZ2 . . . . . . . . . . . . . .  C ADDR  0E23H  
RAZ2A. . . . . . . . . . . . . .  C ADDR  0DD8H  
RAZ3 . . . . . . . . . . . . . .  C ADDR  0D78H  
RESETRAM . . . . . . . . . . . .  C ADDR  0060H  
RESETRAM1. . . . . . . . . . . .  C ADDR  0072H  
KVART100                                                                                                      PAGE 66

RESETRAM1A . . . . . . . . . . .  C ADDR  0069H  
RESETRAM2. . . . . . . . . . . .  C ADDR  007BH  
SEK. . . . . . . . . . . . . . .  C ADDR  144FH  
SEK0 . . . . . . . . . . . . . .  C ADDR  1468H  
SEK00LOOP. . . . . . . . . . . .  C ADDR  146DH  
SEK0LOWAI. . . . . . . . . . . .  C ADDR  1475H  
SEK1 . . . . . . . . . . . . . .  C ADDR  1481H  NOT USED  
SEK1B. . . . . . . . . . . . . .  C ADDR  1499H  NOT USED  
SEK1LOOP . . . . . . . . . . . .  C ADDR  1486H  
SEK1OWAI . . . . . . . . . . . .  C ADDR  148EH  
SEKLOOP. . . . . . . . . . . . .  C ADDR  1454H  
SEKLOWAI . . . . . . . . . . . .  C ADDR  145CH  
SOS. . . . . . . . . . . . . . .  C ADDR  1058H  
SOSGOR . . . . . . . . . . . . .  C ADDR  10BEH  
SOSMEZ . . . . . . . . . . . . .  C ADDR  10CAH  
SOSNAB . . . . . . . . . . . . .  C ADDR  1024H  
SOSNOM0. . . . . . . . . . . . .  C ADDR  1032H  
SOSNOM1. . . . . . . . . . . . .  C ADDR  103FH  
SOSNOM2. . . . . . . . . . . . .  C ADDR  1047H  
SOSNOM21 . . . . . . . . . . . .  C ADDR  1064H  
SOSNOM3. . . . . . . . . . . . .  C ADDR  105EH  
SOSNOM4. . . . . . . . . . . . .  C ADDR  1068H  
SOSNOM41 . . . . . . . . . . . .  C ADDR  1074H  
SOSNOM5. . . . . . . . . . . . .  C ADDR  107BH  
SOSNOM51 . . . . . . . . . . . .  C ADDR  107DH  
SOSNOM6. . . . . . . . . . . . .  C ADDR  104FH  
SOSNOM7. . . . . . . . . . . . .  C ADDR  10B5H  
SOSOZID. . . . . . . . . . . . .  C ADDR  0FD7H  
SOSOZIDA . . . . . . . . . . . .  C ADDR  0FF1H  
SR1. . . . . . . . . . . . . . .  C ADDR  0D90H  
SR2. . . . . . . . . . . . . . .  C ADDR  0D9EH  
SR3. . . . . . . . . . . . . . .  C ADDR  0DACH  
SR4. . . . . . . . . . . . . . .  C ADDR  0DBAH  
SR5. . . . . . . . . . . . . . .  C ADDR  0DC8H  
START. . . . . . . . . . . . . .  C ADDR  0040H  
STOP1. . . . . . . . . . . . . .  C ADDR  1021H  
STOPER . . . . . . . . . . . . .  C ADDR  0D62H  
T2OTV. . . . . . . . . . . . . .  C ADDR  16A9H  
TAB. . . . . . . . . . . . . . .  C ADDR  167BH  
TCIFR. . . . . . . . . . . . . .  C ADDR  16EBH  
TCIFR1 . . . . . . . . . . . . .  C ADDR  172FH  
TDLIT. . . . . . . . . . . . . .  C ADDR  1688H  
TF0. . . . . . . . . . . . . . .  B ADDR  008DH  PREDEFINED  
TF1. . . . . . . . . . . . . . .  B ADDR  008FH  PREDEFINED  
TH0. . . . . . . . . . . . . . .  D ADDR  008CH  PREDEFINED  
TH1. . . . . . . . . . . . . . .  D ADDR  008DH  PREDEFINED  
TKONTRSOE. . . . . . . . . . . .  C ADDR  16C8H  
TL0. . . . . . . . . . . . . . .  D ADDR  008AH  PREDEFINED  
TL1. . . . . . . . . . . . . . .  D ADDR  008BH  PREDEFINED  
TMEZGOR. . . . . . . . . . . . .  C ADDR  16BFH  NOT USED  
TMOD . . . . . . . . . . . . . .  D ADDR  0089H  PREDEFINED  
TNET . . . . . . . . . . . . . .  C ADDR  16E7H  
TNOMER1. . . . . . . . . . . . .  C ADDR  1674H  
TOTBOY . . . . . . . . . . . . .  C ADDR  16D5H  
TOTVET . . . . . . . . . . . . .  C ADDR  16A0H  
TOZID. . . . . . . . . . . . . .  C ADDR  167FH  
TPREDUST . . . . . . . . . . . .  C ADDR  16FDH  
TPRIEM . . . . . . . . . . . . .  C ADDR  16B2H  
KVART100                                                                                                      PAGE 67

TPROBE . . . . . . . . . . . . .  C ADDR  1758H  
TR0. . . . . . . . . . . . . . .  B ADDR  008CH  PREDEFINED  
TR1. . . . . . . . . . . . . . .  B ADDR  008EH  PREDEFINED  
TRAZ . . . . . . . . . . . . . .  C ADDR  172BH  
TSEK . . . . . . . . . . . . . .  C ADDR  1684H  
TSOED. . . . . . . . . . . . . .  C ADDR  1695H  
TSTART . . . . . . . . . . . . .  C ADDR  16DFH  
TVSE . . . . . . . . . . . . . .  C ADDR  1765H  
TVSE1. . . . . . . . . . . . . .  C ADDR  176FH  
VPERED . . . . . . . . . . . . .  C ADDR  1283H  
VPERED0. . . . . . . . . . . . .  C ADDR  1286H  NOT USED  
VPERED01 . . . . . . . . . . . .  C ADDR  128EH  NOT USED  
VPERED1. . . . . . . . . . . . .  C ADDR  1298H  
VPERED11 . . . . . . . . . . . .  C ADDR  129DH  NOT USED  
VPERED2. . . . . . . . . . . . .  C ADDR  12A6H  
VPERED21 . . . . . . . . . . . .  C ADDR  12AEH  NOT USED  
VPERED3. . . . . . . . . . . . .  C ADDR  1364H  
VPERED301. . . . . . . . . . . .  C ADDR  1367H  
VPERED311. . . . . . . . . . . .  C ADDR  1370H  
VPERED331. . . . . . . . . . . .  C ADDR  1378H  
VSE. . . . . . . . . . . . . . .  C ADDR  113DH  
VSE1 . . . . . . . . . . . . . .  C ADDR  1157H  
VSEK . . . . . . . . . . . . . .  C ADDR  116CH  
VSEK1. . . . . . . . . . . . . .  C ADDR  116FH  
VSEK2. . . . . . . . . . . . . .  C ADDR  1175H  
VVOD . . . . . . . . . . . . . .  C ADDR  1225H  
VVOD1. . . . . . . . . . . . . .  C ADDR  1231H  
VVOD3. . . . . . . . . . . . . .  C ADDR  1311H  
VVOD31 . . . . . . . . . . . . .  C ADDR  132FH  
VVOD310. . . . . . . . . . . . .  C ADDR  1323H  
VVOD32 . . . . . . . . . . . . .  C ADDR  1341H  
VVOD330. . . . . . . . . . . . .  C ADDR  1317H  
VVOD340. . . . . . . . . . . . .  C ADDR  131DH  
VYV1 . . . . . . . . . . . . . .  C ADDR  11D6H  
VYV2 . . . . . . . . . . . . . .  C ADDR  11E7H  
VYV3 . . . . . . . . . . . . . .  C ADDR  11D4H  
WAIT . . . . . . . . . . . . . .  C ADDR  1636H  
WAITKFA310 . . . . . . . . . . .  C ADDR  12F1H  
WAITKFA311 . . . . . . . . . . .  C ADDR  12FFH  
WAITKFA52. . . . . . . . . . . .  C ADDR  13CAH  
WAITKFA530 . . . . . . . . . . .  C ADDR  13DAH  
WAITKFA70. . . . . . . . . . . .  C ADDR  0690H  
WAITKFA710 . . . . . . . . . . .  C ADDR  069AH  
WAITKFA951 . . . . . . . . . . .  C ADDR  06EFH  
WAITKFA960 . . . . . . . . . . .  C ADDR  0709H  
WAITKFA971 . . . . . . . . . . .  C ADDR  0713H  
WAITKFA980 . . . . . . . . . . .  C ADDR  072DH  
WAITKFA990 . . . . . . . . . . .  C ADDR  06E5H  
WAITKFA991 . . . . . . . . . . .  C ADDR  0737H  
